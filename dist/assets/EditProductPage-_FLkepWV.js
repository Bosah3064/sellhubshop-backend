import{a9 as Se,v as ve,r as l,s as k,w as b,j as e,B as N,b as B,x as P,y as G,E as Z,d as T,z as M,e as F,o as n,I as d,M as ee,A as se,X as ke,S as Te,f as Le,P as te,F as Ue}from"./index-DIxCcwTo.js";import{T as Be}from"./textarea-QQPFZBv8.js";import{C as A,S as f,a as C,b as w,c as j,d as p}from"./select-D5YEeGQh.js";import{S as ae}from"./switch-Cu0j0zPN.js";import{k as R}from"./kenyan-locations-B_zgBGGF.js";import{A as Pe}from"./arrow-left-Bbz-V8UC.js";import{T as re}from"./trash-2-2bzzvvn1.js";import{C as Ge}from"./camera-DUJXmKo-.js";import{M as Me}from"./message-circle-C61Fvmn6.js";import{S as Fe}from"./save-MXRJQatm.js";import"./index-BdQq_4o_.js";import"./index-DskgONLa.js";const V={Electronics:{icon:"üì±",subcategories:{"Mobile Phones":{properties:{Brand:["Apple","Samsung","Huawei","Tecno","Infinix","Nokia","Oppo","Vivo","Realme","Xiaomi","OnePlus","Google","Itel","Other"],Model:["Custom Input"],Storage:["16GB","32GB","64GB","128GB","256GB","512GB","1TB"],RAM:["2GB","4GB","6GB","8GB","12GB","16GB"],"Screen Size":["4-5 inch","5-6 inch","6-7 inch","7+ inch"],Network:["2G","3G","4G","5G"],Condition:["New","Refurbished","Used - Like New","Used - Good","Used - Fair","For Parts"]}},Laptops:{properties:{Brand:["Apple","Dell","HP","Lenovo","Asus","Acer","Microsoft","Other"],Processor:["Intel Core i3","Intel Core i5","Intel Core i7","Intel Core i9","AMD Ryzen 3","AMD Ryzen 5","AMD Ryzen 7","AMD Ryzen 9","Apple M1","Apple M2"],RAM:["4GB","8GB","16GB","32GB","64GB"],Storage:["256GB SSD","512GB SSD","1TB HDD","1TB SSD","2TB HDD","2TB SSD"],"Screen Size":["11-13 inch","14-15 inch","16-17 inch","18+ inch"],Condition:["New","Refurbished","Used - Like New","Used - Good"]}},Tablets:{properties:{Brand:["Apple","Samsung","Huawei","Lenovo","Microsoft","Other"],"Screen Size":["7-8 inch","9-10 inch","11-12 inch","13+ inch"],Storage:["32GB","64GB","128GB","256GB","512GB"],Connectivity:["WiFi Only","WiFi + Cellular"],Condition:["New","Refurbished","Used - Like New","Used - Good"]}},"TVs & Monitors":{properties:{Type:["Smart TV","LED TV","OLED TV","QLED TV","Curved TV","Computer Monitor"],Size:["32 inch","40 inch","43 inch","50 inch","55 inch","65 inch","75 inch","85 inch+"],Brand:["Samsung","LG","Sony","TCL","Hisense","Panasonic","Other"],Condition:["New","Refurbished","Used - Like New","Used - Good"]}},"Audio & Headphones":{properties:{Type:["Headphones","Earphones","Speakers","Soundbars","Home Theater"],Brand:["Apple","Samsung","Sony","JBL","Bose","Other"],Connectivity:["Wired","Wireless","Bluetooth"],Condition:["New","Used - Like New","Used - Good"]}},Cameras:{properties:{Type:["DSLR","Mirrorless","Point & Shoot","Action Camera","Video Camera"],Brand:["Canon","Nikon","Sony","Fujifilm","GoPro","Other"],Resolution:["4K","1080p","720p","Other"],Condition:["New","Used - Like New","Used - Good"]}}}},Fashion:{icon:"üëï",subcategories:{"Men's Clothing":{properties:{Type:["Shirts","T-Shirts","Trousers","Suits","Jackets","Sweaters","Shorts","Jeans","Underwear","Sportswear","Traditional Wear"],Size:["XS","S","M","L","XL","XXL","XXXL"],Material:["Cotton","Polyester","Wool","Silk","Denim","Linen","Leather"],Condition:["New","Used - Like New","Used - Good"]}},"Women's Clothing":{properties:{Type:["Dresses","Blouses","Skirts","Jeans","Jackets","Tops","Jumpsuits","Lingerie","Sportswear","Traditional Wear"],Size:["XS","S","M","L","XL","XXL","Plus Size"],Material:["Cotton","Polyester","Wool","Silk","Lace","Denim","Linen"],Condition:["New","Used - Like New","Used - Good"]}},"Shoes & Footwear":{properties:{Type:["Sneakers","Boots","Sandals","Formal Shoes","Sports Shoes","Heels","Flats","Loafers","Slippers"],Size:["36","37","38","39","40","41","42","43","44","45","46","47"],Gender:["Men","Women","Children","Unisex"],Condition:["New","Used - Like New","Used - Good"]}},"Bags & Accessories":{properties:{Type:["Handbags","Backpacks","Wallets","Belts","Sunglasses","Watches","Jewelry"],Material:["Leather","Fabric","Synthetic","Metal"],Condition:["New","Used - Like New","Used - Good"]}}}},"Home & Garden":{icon:"üè†",subcategories:{Furniture:{properties:{Type:["Sofa","Bed","Table","Chairs","Wardrobe","Cabinet","Shelves","Office Furniture"],Material:["Wood","Fabric","Leather","Metal","Glass","Plastic"],Condition:["New","Used - Like New","Used - Good","Used - Fair"]}},"Home Appliances":{properties:{Type:["Refrigerator","Cooker","Microwave","Blender","Toaster","Coffee Maker","Washing Machine","Vacuum Cleaner","Air Conditioner"],Brand:["Samsung","LG","Hisense","Midea","Other"],Condition:["New","Refurbished","Used - Like New","Used - Good"]}},"Garden & Outdoor":{properties:{Type:["Garden Furniture","Plants","Gardening Tools","BBQ Grill","Outdoor Lighting","Swimming Pool"],Condition:["New","Used - Like New","Used - Good","Used - Fair"]}},"Home Decor":{properties:{Type:["Lighting","Curtains","Rugs","Wall Art","Mirrors","Vases","Clocks"],Style:["Modern","Traditional","Minimalist","Vintage","Industrial"],Condition:["New","Used - Like New","Used - Good"]}}}},Vehicles:{icon:"üöó",subcategories:{Cars:{properties:{Make:["Toyota","Honda","Nissan","Mercedes","BMW","Audi","Volkswagen","Ford","Subaru","Mitsubishi","Isuzu","Other"],Model:["Custom Input"],Year:Array.from({length:30},(x,u)=>(new Date().getFullYear()-u).toString()),Fuel:["Petrol","Diesel","Electric","Hybrid","LPG"],Transmission:["Manual","Automatic"],Mileage:["0-10,000 km","10,000-50,000 km","50,000-100,000 km","100,000+ km"],"Body Type":["Sedan","SUV","Hatchback","Pickup","Van","Coupe","Convertible"]}},Motorcycles:{properties:{Type:["Sport","Cruiser","Scooter","Off-road","Touring","Naked","Adventure"],"Engine Size":["50-125cc","126-250cc","251-500cc","501-750cc","751cc+"],Make:["Honda","Yamaha","Suzuki","Kawasaki","Bajaj","TVS","Other"],Year:Array.from({length:20},(x,u)=>(new Date().getFullYear()-u).toString())}},"Vehicle Parts":{properties:{Type:["Engine Parts","Wheels & Tires","Electronics","Body Parts","Accessories","Car Audio","Lighting"],Compatibility:["Custom Input"],Condition:["New","Used - Like New","Used - Good","Refurbished"]}},"Boats & Watercraft":{properties:{Type:["Speedboat","Sailboat","Fishing Boat","Yacht","Jet Ski","Canoe"],Length:["Under 10ft","10-20ft","20-30ft","30-40ft","40ft+"],Condition:["New","Used - Like New","Used - Good","Used - Fair"]}}}},Property:{icon:"üè¢",subcategories:{"Apartments for Rent":{properties:{Bedrooms:["Studio","1","2","3","4","5+"],Bathrooms:["1","2","3","4+"],Furnishing:["Furnished","Unfurnished","Semi-Furnished"],"Location Area":["Westlands","Kilimani","Karen","Lavington","Kileleshwa","Runda","Other"],"Rent Period":["Monthly","Yearly"]}},"Houses for Sale":{properties:{Type:["Bungalow","Maisonette","Townhouse","Villa","Mansion"],Bedrooms:["1","2","3","4","5+"],Bathrooms:["1","2","3","4+"],Parking:["1","2","3","4+"],"Location Area":["Custom Input"]}},"Commercial Properties":{properties:{Type:["Office Space","Retail Space","Warehouse","Hotel","Restaurant","Factory"],Size:["Small (<1000 sq ft)","Medium (1000-5000 sq ft)","Large (5000+ sq ft)"],Purpose:["Rent","Sale","Lease"]}},"Land & Plots":{properties:{Type:["Residential","Commercial","Agricultural","Industrial"],Size:["1/8 Acre","1/4 Acre","1/2 Acre","1 Acre","2+ Acres"],"Location Area":["Custom Input"]}}}},Jobs:{icon:"üíº",subcategories:{"Full-time Jobs":{properties:{Industry:["IT & Tech","Healthcare","Education","Finance","Sales & Marketing","Hospitality","Construction","Manufacturing","Other"],"Experience Level":["Entry Level","Mid Level","Senior Level","Executive"],Education:["High School","Diploma","Bachelor's","Master's","PhD"],"Job Type":["Permanent","Contract"],"Salary Range":["Custom Input"]}},"Part-time Jobs":{properties:{Industry:["Retail","Hospitality","Tutoring","Delivery","Customer Service","Other"],Schedule:["Weekends","Evenings","Flexible","Morning"],"Salary Type":["Hourly","Daily","Weekly","Monthly"]}},"Home Services":{properties:{Type:["Plumbing","Electrical","Cleaning","Painting","Carpentry","Moving","Pest Control","Gardening"],"Service Area":["Custom Input"],Experience:["Beginner","Intermediate","Expert"]}},"Professional Services":{properties:{Type:["Legal","Accounting","Consulting","Design","Writing","Marketing","IT Support","Photography"],"Service Area":["Custom Input"],Experience:["1-3 years","3-5 years","5-10 years","10+ years"]}}}},Sports:{icon:"‚öΩ",subcategories:{"Sports Equipment":{properties:{Type:["Gym Equipment","Football","Basketball","Tennis","Golf","Cycling","Running","Swimming","Martial Arts","Cricket"],Condition:["New","Used - Like New","Used - Good","Used - Fair"],Brand:["Custom Input"]}},"Sports Clothing":{properties:{Type:["Jerseys","Shoes","Shorts","Tops","Jackets","Accessories"],Size:["XS","S","M","L","XL","XXL"],Condition:["New","Used - Like New","Used - Good"]}},"Outdoor & Camping":{properties:{Type:["Tents","Sleeping Bag","Backpacks","Cooking Gear","Hiking Equipment"],Condition:["New","Used - Like New","Used - Good"]}}}},Beauty:{icon:"üíÑ",subcategories:{Skincare:{properties:{Type:["Moisturizers","Cleansers","Serums","Sunscreen","Face Masks","Toners","Anti-aging"],"Skin Type":["Normal","Dry","Oily","Combination","Sensitive"],Brand:["Custom Input"],Condition:["New","Unopened","Used - Slightly"]}},Makeup:{properties:{Type:["Foundation","Lipstick","Mascara","Eyeshadow","Blush","Concealer","Makeup Brushes"],Brand:["Custom Input"],Condition:["New","Unopened","Used - Slightly"]}},"Hair Care":{properties:{Type:["Shampoo","Conditioner","Hair Oil","Styling Products","Hair Color","Hair Tools"],"Hair Type":["Straight","Curly","Wavy","Coily","All Types"],Brand:["Custom Input"],Condition:["New","Unopened","Used - Slightly"]}},Fragrances:{properties:{Type:["Perfume","Cologne","Body Spray","Essential Oils"],Size:["30ml","50ml","100ml","200ml","Other"],Brand:["Custom Input"],Condition:["New","Unopened","Used - Slightly"]}}}},Books:{icon:"üìö",subcategories:{Fiction:{properties:{Genre:["Romance","Mystery","Science Fiction","Fantasy","Thriller","Historical","Other"],Format:["Paperback","Hardcover","E-book"],Condition:["New","Used - Like New","Used - Good","Used - Fair"]}},"Non-Fiction":{properties:{Category:["Biography","Self-Help","Business","History","Science","Travel","Other"],Format:["Paperback","Hardcover","E-book"],Condition:["New","Used - Like New","Used - Good","Used - Fair"]}},"Academic & Textbooks":{properties:{Subject:["Mathematics","Science","Literature","History","Business","Engineering","Other"],Level:["Primary","Secondary","University","Professional"],Condition:["New","Used - Like New","Used - Good","Used - Fair"]}}}},Toys:{icon:"üß∏",subcategories:{"Children's Toys":{properties:{Type:["Action Figures","Dolls","Building Blocks","Educational Toys","Stuffed Animals","Vehicles"],"Age Group":["0-2 years","3-5 years","6-8 years","9-12 years"],Condition:["New","Used - Like New","Used - Good"]}},Games:{properties:{Type:["Board Games","Video Games","Card Games","Puzzles","Outdoor Games"],"Age Group":["3-5 years","6-8 years","9-12 years","13+ years"],Condition:["New","Used - Like New","Used - Good"]}}}},Jewelry:{icon:"üíé",subcategories:{"Fine Jewelry":{properties:{Type:["Necklaces","Earrings","Rings","Bracelets","Watches"],Material:["Gold","Silver","Platinum","Diamond","Pearl","Gemstone"],Condition:["New","Used - Like New","Vintage"]}},"Fashion Jewelry":{properties:{Type:["Necklaces","Earrings","Rings","Bracelets","Hair Accessories"],Material:["Stainless Steel","Brass","Copper","Beads","Other"],Condition:["New","Used - Like New"]}}}},Health:{icon:"üè•",subcategories:{"Fitness Equipment":{properties:{Type:["Treadmills","Exercise Bikes","Weights","Yoga Mats","Resistance Bands"],Condition:["New","Used - Like New","Used - Good"]}},"Medical Supplies":{properties:{Type:["First Aid","Mobility Aids","Monitoring Devices","Therapy Equipment"],Condition:["New","Used - Like New","Sterilized"]}},Supplements:{properties:{Type:["Vitamins","Protein","Weight Management","Sports Nutrition"],"Expiry Date":["Custom Input"],Condition:["New","Unopened"]}}}},Food:{icon:"üçï",subcategories:{"Fresh Produce":{properties:{Type:["Fruits","Vegetables","Grains","Herbs","Spices","Dairy","Eggs"],Quantity:["Small","Medium","Large","Bulk"],Organic:["Yes","No"]}},"Processed Foods":{properties:{Type:["Baked Goods","Canned Foods","Beverages","Snacks","Condiments","Frozen Foods"],Packaging:["Sealed","Bulk","Custom"],"Expiry Date":["Custom Input"]}}}},Pets:{icon:"üêï",subcategories:{"Pets for Sale":{properties:{Type:["Dogs","Cats","Birds","Fish","Reptiles","Small Animals"],Breed:["Custom Input"],Age:["Young","Adult","Senior"],Vaccinated:["Yes","No"]}},"Pet Supplies":{properties:{Type:["Food","Toys","Accessories","Grooming","Health Care","Bedding","Cages"],"For Animal":["Dogs","Cats","Birds","Fish","Reptiles","Small Animals"],Condition:["New","Used - Like New"]}}}},Office:{icon:"üìÅ",subcategories:{"Office Equipment":{properties:{Type:["Computers","Printers","Photocopiers","Scanners","Projectors","Telephones"],Condition:["New","Refurbished","Used - Like New","Used - Good"]}},"Office Supplies":{properties:{Type:["Stationery","Furniture","Storage","Organizers","Writing Instruments"],Condition:["New","Used - Like New","Used - Good"]}}}},"Art & Crafts":{icon:"üé®",subcategories:{"Art Supplies":{properties:{Type:["Paints","Brushes","Canvas","Sketchbooks","Clay","Drawing Tools"],Condition:["New","Used - Like New","Used - Good"]}},"Handmade Crafts":{properties:{Type:["Jewelry","Pottery","Textiles","Woodwork","Metalwork","Candles"],Material:["Custom Input"],Condition:["New","Made to Order"]}}}},Music:{icon:"üéµ",subcategories:{Instruments:{properties:{Type:["Guitar","Piano","Drums","Violin","Keyboard","Saxophone","Trumpet"],Condition:["New","Used - Like New","Used - Good","Used - Fair","Vintage"]}},"Music Accessories":{properties:{Type:["Amplifiers","Cases","Stands","Strings","Sheet Music","Recording Equipment"],Condition:["New","Used - Like New","Used - Good"]}}}},"Baby & Kids":{icon:"üë∂",subcategories:{"Baby Gear":{properties:{Type:["Strollers","Car Seats","Cribs","High Chairs","Baby Carriers","Playpens"],Condition:["New","Used - Like New","Used - Good"]}},"Kids Clothing":{properties:{"Age Group":["0-12 months","1-3 years","4-6 years","7-10 years","11-14 years"],Gender:["Boys","Girls","Unisex"],Type:["Tops","Bottoms","Dresses","Outerwear","School Uniforms"],Condition:["New","Used - Like New","Used - Good"]}}}},Travel:{icon:"‚úàÔ∏è",subcategories:{Luggage:{properties:{Type:["Suitcases","Backpacks","Travel Bags","Carry-ons"],Size:["Small","Medium","Large","Extra Large"],Condition:["New","Used - Like New","Used - Good"]}},"Travel Accessories":{properties:{Type:["Travel Pillows","Toiletry Bags","Passport Holders","Travel Adapters","Luggage Tags"],Condition:["New","Used - Like New"]}}}},Industrial:{icon:"üè≠",subcategories:{"Tools & Machinery":{properties:{Type:["Power Tools","Hand Tools","Heavy Machinery","Measuring Tools","Safety Equipment"],Condition:["New","Used - Like New","Used - Good","Used - Fair"]}},"Industrial Equipment":{properties:{Type:["Generators","Compressors","Welding Machines","Pumps","Forklifts"],Condition:["New","Used - Like New","Used - Good","Used - Fair"]}}}},Collectibles:{icon:"üèÜ",subcategories:{"Collectible Items":{properties:{Type:["Coins","Stamps","Comics","Action Figures","Trading Cards","Memorabilia"],Era:["Modern","Vintage","Antique"],Condition:["Mint","Excellent","Good","Fair","Poor"]}},"Art & Antiques":{properties:{Type:["Paintings","Sculptures","Furniture","Ceramics","Vintage Items"],Era:["Modern","Vintage","Antique"],Condition:["Excellent","Good","Fair","Needs Restoration"]}}}}};function _e(){const{id:x}=Se(),u=ve(),[ie,z]=l.useState(!0),[E,W]=l.useState(!1),[Ae,oe]=l.useState(null),[S,q]=l.useState([]),[ne,J]=l.useState([]),[v,X]=l.useState([]),[I,y]=l.useState({}),[h,Y]=l.useState({basic:!0,category:!0,properties:!1,contact:!1}),[D,le]=l.useState(""),[_,$]=l.useState(""),[ce,O]=l.useState(!1),[de,H]=l.useState(""),[a,i]=l.useState({name:"",price:"",originalPrice:"",category:"",subcategory:"",description:"",brand:"",condition:"new",county:"",location:"",phone:"",whatsapp:"",email:"",negotiable:!0,featured:!1,properties:{}});l.useEffect(()=>{x&&ue()},[x]);const K=R.counties.filter(s=>s.name.toLowerCase().includes(D.toLowerCase())||s.locations.some(t=>t.toLowerCase().includes(D.toLowerCase()))),Q=(s=>R.counties.find(r=>r.id===s)?.locations||[])(a.county).filter(s=>s.toLowerCase().includes(_.toLowerCase())),pe=()=>R.counties.find(t=>t.id===a.county)?.name||"",ue=async()=>{try{z(!0);const{data:s,error:t}=await k.from("products").select("*").eq("id",x).single();if(t)throw t;if(!s){b({title:"Product not found",description:"The product you're trying to edit doesn't exist.",variant:"destructive"}),u("/dashboard");return}oe(s);const{data:{user:r}}=await k.auth.getUser();if(s.user_id!==r?.id){b({title:"Access denied",description:"You can only edit your own products.",variant:"destructive"}),u("/dashboard");return}i({name:s.name||"",price:s.price?.toString()||"",originalPrice:s.original_price?.toString()||"",category:s.category||"",subcategory:s.subcategory||"",description:s.description||"",brand:s.brand||"",condition:s.condition||"new",county:s.county||"",location:s.location||"",phone:s.phone||"",whatsapp:s.whatsapp||"",email:s.email||"",negotiable:s.is_negotiable||!0,featured:s.featured||!1,properties:s.properties||{}}),s.images&&Array.isArray(s.images)&&X(s.images);const o=s.properties||{},c={};Object.entries(o).forEach(([m,g])=>{typeof g=="string"&&(g.toLowerCase().includes("custom")||g.toLowerCase().includes("other"))&&(c[m]=g)}),y(c)}catch(s){console.error("Error loading product:",s),b({title:"Error loading product",description:s.message,variant:"destructive"}),u("/dashboard")}finally{z(!1)}},me=s=>{const t=s.target.files;if(!t)return;Array.from(t).slice(0,10-(v.length+S.length)).forEach(o=>{if(o.size>5*1024*1024){b({title:"Image too large",description:"Maximum file size is 5MB",variant:"destructive"});return}q(m=>[...m,o]);const c=new FileReader;c.onload=m=>{m.target?.result&&J(g=>[...g,m.target.result])},c.readAsDataURL(o)})},he=s=>{q(t=>t.filter((r,o)=>o!==s)),J(t=>t.filter((r,o)=>o!==s))},ge=s=>{X(t=>t.filter((r,o)=>o!==s))},xe=s=>{i(t=>({...t,category:s,subcategory:"",properties:{},brand:""})),y({}),Y(t=>({...t,properties:!0}))},be=s=>{i(t=>({...t,subcategory:s,properties:{},brand:""})),y({})},ye=(s,t)=>{i(r=>({...r,properties:{...r.properties,[s]:t}})),t.toLowerCase().includes("custom")||t.toLowerCase().includes("other")?y(r=>({...r,[s]:r[s]||""})):y(r=>{const o={...r};return delete o[s],o})},Ne=(s,t)=>{y(r=>({...r,[s]:t})),i(r=>({...r,properties:{...r.properties,[s]:t}}))},fe=()=>{if(!a.category||!a.subcategory)return{};const s=V[a.category];return s?s.subcategories[a.subcategory]?.properties||{}:{}},L=s=>{Y(t=>({...t,[s]:!t[s]}))},Ce=async s=>{const t=[];for(const r of S){const o=r.name.split(".").pop(),c=`${s}/${Date.now()}-${Math.random().toString(36).substring(7)}.${o}`,{error:m}=await k.storage.from("product-images").upload(c,r);if(m){console.error("Error uploading image:",m);continue}const{data:{publicUrl:g}}=k.storage.from("product-images").getPublicUrl(c);t.push(g)}return t},we=async s=>{if(s.preventDefault(),!a.name||!a.price||!a.category||!a.subcategory||!a.county||!a.location){b({title:"Missing required fields",description:"Please fill in all required fields including county and location",variant:"destructive"});return}W(!0);try{let t=[];S.length>0&&(t=await Ce(x));const r=[...v,...t],o={name:a.name,description:a.description,price:parseFloat(a.price),category:a.category,subcategory:a.subcategory,brand:a.brand||null,condition:a.condition,county:a.county,location:a.location,phone:a.phone,whatsapp:a.whatsapp||null,email:a.email,original_price:a.originalPrice?parseFloat(a.originalPrice):null,featured:a.featured,is_negotiable:a.negotiable,properties:{...a.properties,...I},images:r,updated_at:new Date().toISOString()},{error:c}=await k.from("products").update(o).eq("id",x);if(c)throw c;b({title:"‚úÖ Product updated successfully!",description:"Your changes have been saved."}),u("/dashboard")}catch(t){console.error("Error updating product:",t),b({title:"Update failed",description:t.message,variant:"destructive"})}finally{W(!1)}},U=fe(),je=U&&"Brand"in U;return ie?e.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:e.jsx("div",{className:"container mx-auto max-w-4xl",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{children:"Loading product..."})]})})})}):e.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs("header",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(N,{variant:"outline",onClick:()=>u("/dashboard"),className:"flex items-center gap-2",children:[e.jsx(Pe,{className:"h-4 w-4"}),"Back to Dashboard"]}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Edit Product"}),e.jsx("div",{className:"w-24"})," "]}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Update your product listing. Changes will be visible to buyers immediately."})]}),e.jsxs("form",{onSubmit:we,children:[e.jsxs(B,{className:"mb-6 shadow-lg border-0",children:[e.jsx(P,{className:"cursor-pointer bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-t-lg",onClick:()=>L("basic"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(G,{className:"flex items-center gap-3 text-white",children:[e.jsx(Z,{className:"h-6 w-6"}),"Basic Information"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{variant:"secondary",className:"bg-blue-400",children:[v.length+S.length,"/10 photos"]}),h.basic?e.jsx(A,{}):e.jsx(M,{})]})]})}),h.basic&&e.jsxs(F,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{className:"text-lg font-semibold",children:"Product Photos"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Update your product photos. You can add new ones or remove existing ones."}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[v.map((s,t)=>e.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border-2 border-green-200 shadow-md group",children:[e.jsx("img",{src:s,alt:`Existing product image ${t+1}`,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all flex items-center justify-center",children:e.jsx(N,{type:"button",size:"icon",variant:"destructive",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>ge(t),children:e.jsx(re,{className:"h-4 w-4"})})}),t===0&&e.jsx(T,{className:"absolute top-2 left-2 bg-green-600",children:"Main"}),e.jsx(T,{className:"absolute top-2 right-2 bg-blue-600 text-xs",children:"Existing"})]},`existing-${t}`)),ne.map((s,t)=>e.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border-2 border-blue-200 shadow-md group",children:[e.jsx("img",{src:s,alt:`New product image ${t+1}`,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all flex items-center justify-center",children:e.jsx(N,{type:"button",size:"icon",variant:"destructive",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>he(t),children:e.jsx(re,{className:"h-4 w-4"})})}),e.jsx(T,{className:"absolute top-2 right-2 bg-green-600 text-xs",children:"New"})]},`new-${t}`)),v.length+S.length<10&&e.jsxs("label",{className:"aspect-square rounded-xl border-2 border-dashed border-blue-300 hover:border-blue-500 cursor-pointer flex flex-col items-center justify-center transition-all hover:bg-blue-50",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:me,className:"hidden"}),e.jsx(Ge,{className:"h-8 w-8 text-blue-500 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Add Photos"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Max 5MB each"})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"name",className:"text-base font-semibold",children:"Product Title *"}),e.jsx(d,{id:"name",placeholder:"e.g. iPhone 13 Pro Max 256GB - Like New Condition",value:a.name,onChange:s=>i(t=>({...t,name:s.target.value})),className:"h-12 text-base",required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"price",className:"text-base font-semibold",children:"Price (KES) *"}),e.jsx(d,{id:"price",type:"number",placeholder:"15000",value:a.price,onChange:s=>i(t=>({...t,price:s.target.value})),className:"h-12 text-base",required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"originalPrice",className:"text-base font-semibold",children:"Original Price (Optional)"}),e.jsx(d,{id:"originalPrice",type:"number",placeholder:"20000",value:a.originalPrice,onChange:s=>i(t=>({...t,originalPrice:s.target.value})),className:"h-12 text-base"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(n,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4"}),"Location *"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"county",className:"text-sm font-medium",children:"County"}),e.jsxs(f,{value:a.county,onValueChange:s=>{i(t=>({...t,county:s,location:""})),O(!1),H(""),$("")},children:[e.jsx(C,{className:"h-12 text-base",children:e.jsx(w,{placeholder:"Search or select county"})}),e.jsxs(j,{children:[e.jsx("div",{className:"p-2 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(d,{placeholder:"Search counties...",value:D,onChange:s=>le(s.target.value),className:"h-9 pl-8",onClick:s=>s.stopPropagation()})]})}),K.map(s=>e.jsx(p,{value:s.id,className:"text-base",children:s.name},s.id)),K.length===0&&e.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No counties found"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"location",className:"text-sm font-medium",children:"Specific Area/Neighborhood"}),ce?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{placeholder:"Enter your specific location...",value:de,onChange:s=>{H(s.target.value),i(t=>({...t,location:s.target.value}))},className:"h-12 text-base"}),e.jsx(N,{type:"button",variant:"outline",onClick:()=>{O(!1),H(""),i(s=>({...s,location:""}))},className:"h-12",children:e.jsx(ke,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your exact area, estate, or landmark"})]}):e.jsx("div",{className:"space-y-2",children:e.jsxs(f,{value:a.location,onValueChange:s=>{s==="custom"?O(!0):i(t=>({...t,location:s}))},disabled:!a.county,children:[e.jsx(C,{className:"h-12 text-base",children:e.jsx(w,{placeholder:a.county?"Search or select location":"Select county first"})}),e.jsxs(j,{children:[e.jsx("div",{className:"p-2 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(d,{placeholder:"Search locations...",value:_,onChange:s=>$(s.target.value),className:"h-9 pl-8",onClick:s=>s.stopPropagation()})]})}),Q.map(s=>e.jsx(p,{value:s,className:"text-base",children:s},s)),e.jsx(p,{value:"custom",className:"text-base text-blue-600 font-medium border-t",children:"+ Add Custom Location"}),Q.length===0&&a.county&&e.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No locations found"})]})]})})]})]}),a.county&&a.location&&e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-800",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsxs("span",{children:[e.jsx("strong",{children:a.location}),","," ",pe()]})]})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"description",className:"text-base font-semibold",children:"Description *"}),e.jsx(Be,{id:"description",placeholder:"Describe your product in detail...",rows:6,value:a.description,onChange:s=>i(t=>({...t,description:s.target.value})),className:"text-base resize-none",required:!0}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.description.length,"/2000 characters"]})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{checked:a.negotiable,onCheckedChange:s=>i(t=>({...t,negotiable:s}))}),e.jsx(n,{className:"text-sm font-medium",children:"Price Negotiable"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{checked:a.featured,onCheckedChange:s=>i(t=>({...t,featured:s}))}),e.jsx(n,{className:"text-sm font-medium",children:"Feature Listing (+KES 500)"})]})]})]})]}),e.jsxs(B,{className:"mb-6 shadow-lg border-0",children:[e.jsx(P,{className:"cursor-pointer bg-gradient-to-r from-green-500 to-green-600 text-white rounded-t-lg",onClick:()=>L("category"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(G,{className:"flex items-center gap-3 text-white",children:[e.jsx(Z,{className:"h-6 w-6"}),"Category & Type"]}),h.category?e.jsx(A,{}):e.jsx(M,{})]})}),h.category&&e.jsxs(F,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"category",className:"text-base font-semibold",children:"Main Category *"}),e.jsxs(f,{value:a.category,onValueChange:xe,children:[e.jsx(C,{className:"h-12 text-base",children:e.jsx(w,{placeholder:"Select a category"})}),e.jsx(j,{children:Object.entries(V).map(([s,t])=>e.jsxs(p,{value:s,className:"text-base",children:[e.jsx("span",{className:"mr-2",children:t.icon}),s]},s))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"subcategory",className:"text-base font-semibold",children:"Subcategory *"}),e.jsxs(f,{value:a.subcategory,onValueChange:be,disabled:!a.category,children:[e.jsx(C,{className:"h-12 text-base",children:e.jsx(w,{placeholder:"Select subcategory"})}),e.jsx(j,{children:a.category&&Object.keys(V[a.category]?.subcategories||{}).map(s=>e.jsx(p,{value:s,className:"text-base",children:s},s))})]})]}),!je&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"brand",className:"text-base font-semibold",children:"Brand (Optional)"}),e.jsx(d,{id:"brand",placeholder:"e.g. Apple, Samsung, Toyota",value:a.brand,onChange:s=>i(t=>({...t,brand:s.target.value})),className:"h-12 text-base"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{htmlFor:"condition",className:"text-base font-semibold",children:"Condition"}),e.jsxs(f,{value:a.condition,onValueChange:s=>i(t=>({...t,condition:s})),children:[e.jsx(C,{className:"h-12 text-base",children:e.jsx(w,{})}),e.jsxs(j,{children:[e.jsx(p,{value:"new",children:"üÜï New"}),e.jsx(p,{value:"used-like-new",children:"‚ú® Used - Like New"}),e.jsx(p,{value:"used-good",children:"üëç Used - Good"}),e.jsx(p,{value:"used-fair",children:"‚úÖ Used - Fair"}),e.jsx(p,{value:"refurbished",children:"üîß Refurbished"})]})]})]})]}),a.category&&a.subcategory&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("h4",{className:"font-semibold text-green-800 mb-2 flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"Selected: ",a.category," ‚Üí ",a.subcategory]}),e.jsxs("p",{className:"text-sm text-green-700",children:["Please update the specific properties for your"," ",a.subcategory.toLowerCase()," below."]})]})]})]}),Object.keys(U).length>0&&e.jsxs(B,{className:"mb-6 shadow-lg border-0",children:[e.jsx(P,{className:"cursor-pointer bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-t-lg",onClick:()=>L("properties"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(G,{className:"flex items-center gap-3 text-white",children:[e.jsx(Le,{className:"h-6 w-6"}),"Specifications & Properties"]}),h.properties?e.jsx(A,{}):e.jsx(M,{})]})}),h.properties&&e.jsxs(F,{className:"p-6",children:[e.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:Object.entries(U).map(([s,t])=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs(n,{htmlFor:`property-${s}`,className:"text-base font-semibold",children:[s," ",s!=="Brand"?"*":""]}),e.jsxs(f,{value:a.properties[s]||"",onValueChange:r=>ye(s,r),children:[e.jsx(C,{className:"h-12 text-base",children:e.jsx(w,{placeholder:`Select ${s.toLowerCase()}`})}),e.jsx(j,{children:t.map(r=>e.jsx(p,{value:r,className:"text-base",children:r},r))})]}),I[s]!==void 0&&e.jsx("div",{className:"mt-2",children:e.jsx(d,{placeholder:`Specify ${s.toLowerCase()}`,value:I[s],onChange:r=>Ne(s,r.target.value),className:"h-12 text-base",required:s!=="Brand"})})]},s))}),Object.keys(a.properties).length>0&&e.jsxs("div",{className:"mt-6 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-purple-800 mb-3",children:"Current Specifications:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(a.properties).map(([s,t])=>e.jsxs(T,{variant:"secondary",className:"px-3 py-1 bg-purple-100 text-purple-800 border-purple-300",children:[e.jsxs("strong",{children:[s,":"]})," ",t]},s))})]})]})]}),e.jsxs(B,{className:"mb-6 shadow-lg border-0",children:[e.jsx(P,{className:"cursor-pointer bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-t-lg",onClick:()=>L("contact"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(G,{className:"flex items-center gap-3 text-white",children:[e.jsx(te,{className:"h-6 w-6"}),"Contact Information"]}),h.contact?e.jsx(A,{}):e.jsx(M,{})]})}),h.contact&&e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(n,{htmlFor:"phone",className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(te,{className:"h-4 w-4"}),"Phone *"]}),e.jsx(d,{id:"phone",type:"tel",placeholder:"+254712345678",value:a.phone,onChange:s=>i(t=>({...t,phone:s.target.value})),className:"h-12 text-base",required:!0})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(n,{htmlFor:"whatsapp",className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(Me,{className:"h-4 w-4"}),"WhatsApp"]}),e.jsx(d,{id:"whatsapp",type:"tel",placeholder:"+254712345678",value:a.whatsapp,onChange:s=>i(t=>({...t,whatsapp:s.target.value})),className:"h-12 text-base"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(n,{htmlFor:"email",className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(Ue,{className:"h-4 w-4"}),"Email *"]}),e.jsx(d,{id:"email",type:"email",placeholder:"you@example.com",value:a.email,onChange:s=>i(t=>({...t,email:s.target.value})),className:"h-12 text-base",required:!0})]})]})})]}),e.jsxs("div",{className:"flex gap-4 sticky bottom-4 bg-white p-4 rounded-xl shadow-2xl border",children:[e.jsx(N,{type:"button",variant:"outline",onClick:()=>u("/dashboard"),className:"flex-1 h-14 text-base font-semibold",disabled:E,children:"Cancel"}),e.jsx(N,{type:"submit",disabled:E,className:"flex-1 h-14 text-base font-semibold bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",size:"lg",children:E?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Updating Product..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Fe,{className:"h-5 w-5 mr-2"}),"Update Product"]})})]})]})]})})}export{_e as default};
