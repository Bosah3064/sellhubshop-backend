import{c as z,r as n,s as m,j as e,T as H,u as L,a as U,L as i,B as o,Z as B,C as D,b as M,d as k,H as T,e as V,S as W,f as S,g as C,h as $,i as F,k as A,l as R}from"./index-DIxCcwTo.js";import{S as K}from"./SEO-DRdgyEjE.js";import{P as O}from"./PriceDisplay-_QDTrlZ3.js";import{U as b}from"./users-DBPXf3v8.js";import{S as q}from"./shopping-bag-D3keASlR.js";import{S as J}from"./shield-check-CLmxCABJ.js";import{A as Z}from"./arrow-right-CWu2P4sX.js";import{M as G}from"./message-circle-C61Fvmn6.js";import{P as Y}from"./package-GtKN0b3_.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=z("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]),X=()=>{const[a,r]=n.useState({totalUsers:0,activeProducts:0,totalVolume:0}),[c,d]=n.useState(!0);return n.useEffect(()=>{(async()=>{try{const{count:h}=await m.from("profiles").select("*",{count:"exact",head:!0}),{count:u}=await m.from("products").select("*",{count:"exact",head:!0}).in("status",["active","approved"]),{count:g}=await m.from("product_views").select("*",{count:"exact",head:!0}),f=(g||0)+(u||0)*5;r({totalUsers:h||0,activeProducts:u||0,totalVolume:f})}catch(h){console.error("Error fetching market stats:",h)}finally{d(!1)}})()},[]),{stats:a,loading:c}},ee=()=>{const{stats:a,loading:r}=X();return r?null:e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 py-8 animate-fade-in",children:[e.jsx(p,{icon:b,label:"Active Users",value:a.totalUsers.toLocaleString(),color:"text-blue-600",bg:"bg-blue-50"}),e.jsx(p,{icon:q,label:"Products Listed",value:a.activeProducts.toLocaleString(),color:"text-emerald-600",bg:"bg-emerald-50"}),e.jsx(p,{icon:H,label:"Market Interaction",value:a.totalVolume.toLocaleString()+"+",color:"text-purple-600",bg:"bg-purple-50"}),e.jsx(p,{icon:J,label:"Verified Sellers",value:"100%",color:"text-amber-600",bg:"bg-amber-50"})]})},p=({icon:a,label:r,value:c,color:d,bg:x})=>e.jsxs("div",{className:"bg-white/60 backdrop-blur-md border border-white/20 p-4 rounded-2xl shadow-sm hover:shadow-md transition-all duration-300 flex items-center gap-4 group hover:-translate-y-1",children:[e.jsx("div",{className:`p-3 rounded-xl ${x} ${d} group-hover:scale-110 transition-transform duration-300`,children:e.jsx(a,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-black text-gray-900 tracking-tight",children:c}),e.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wide",children:r})]})]}),de=()=>{const[a,r]=n.useState([]),[c,d]=n.useState(!0),{toast:x}=L(),{addToCart:h}=U(),u=[{name:"Electronics",icon:"Smartphone",color:"bg-blue-500",text:"text-blue-500"},{name:"Vehicles",icon:"Car",color:"bg-amber-500",text:"text-amber-500"},{name:"Property",icon:"HomeIcon",color:"bg-emerald-500",text:"text-emerald-500"},{name:"Fashion",icon:"Shirt",color:"bg-purple-500",text:"text-purple-500"},{name:"Home & Garden",icon:"Watch",color:"bg-rose-500",text:"text-rose-500"},{name:"Jobs",icon:"Users",color:"bg-cyan-500",text:"text-cyan-500"},{name:"Services",icon:"Shield",color:"bg-indigo-500",text:"text-indigo-500"},{name:"Health & Beauty",icon:"Sparkles",color:"bg-pink-500",text:"text-pink-500"}],g=t=>{const s={className:"w-5 h-5"};switch(t){case"Smartphone":return e.jsx(R,{...s});case"Car":return e.jsx(A,{...s});case"HomeIcon":return e.jsx(F,{...s});case"Shirt":return e.jsx($,{...s});case"Watch":return e.jsx(Q,{...s});case"Users":return e.jsx(b,{...s});case"Shield":return e.jsx(S,{...s});case"Sparkles":return e.jsx(C,{...s});default:return e.jsx(Y,{...s})}};n.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:t,error:s}=await m.from("products").select(`
          id,
          name,
          description,
          price,
          original_price,
          category,
          images,
          featured,
          verified,
          location,
          user_id
        `).in("status",["active","approved"]).eq("featured",!0).order("created_at",{ascending:!1}).limit(8);if(s)throw s;if(t&&t.length>0){const j=t.map(l=>l.user_id).filter(Boolean),w=[...new Set(j)];let y={};if(w.length>0){const{data:l,error:I}=await m.from("profiles").select("id, full_name, rating, total_ratings, avatar_url, updated_at").in("id",w);!I&&l&&l.forEach(N=>{y[N.id]=N})}const E=t.map(l=>({...l,profiles:l.user_id?y[l.user_id]:null}));r(E)}else r([])}catch(t){console.error("Error loading featured products:",t),x({variant:"destructive",title:"Error loading featured products",description:t.message})}finally{d(!1)}},P=t=>t.profiles?.rating?t.profiles.rating:4.5,v=t=>t?(new Date().getTime()-new Date(t).getTime())/6e4<10:!1,_=t=>{if(t.images&&t.images.length>0)return t.images[0];const s=t.category?.toLowerCase();return{electronics:"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400",fashion:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400",home:"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=400",books:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400",sports:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400",beauty:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=400",automotive:"https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=400"}[s]||"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400"};return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"Kenya's Premium Marketplace | SellHub",description:"The safest, most vibrant online marketplace in Kenya. Premium electronics, fashion, and more."}),e.jsxs("main",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-green-50/30 relative overflow-x-hidden",children:[e.jsxs("section",{className:"relative pt-24 pb-20 md:pt-32 md:pb-32 overflow-hidden animate-fade-in z-10",children:[e.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-gradient-to-tr from-primary/10 to-emerald-400/10 rounded-full blur-[120px] animate-float opacity-70"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-gradient-to-tr from-blue-400/10 to-purple-400/10 rounded-full blur-[100px] animate-bounce-soft opacity-60"})]}),e.jsx("div",{className:"container mx-auto px-4 relative",children:e.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full glass-strong shadow-sm border border-white/50 text-gray-800 text-xs sm:text-sm font-bold mb-8 animate-slide-in-down hover-lift",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),e.jsx("span",{className:"text-gray-600",children:"The #1 Marketplace for Kenya"})]}),e.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-black mb-8 tracking-tighter animate-slide-in-up font-heading leading-[0.9]",children:[e.jsx("span",{className:"text-gray-900 block mb-2",children:"Buy & Sell"}),e.jsx("span",{className:"bg-gradient-to-r from-emerald-600 via-green-500 to-teal-500 bg-clip-text text-transparent drop-shadow-sm",children:"Everything."})]}),e.jsx("p",{className:"text-lg md:text-xl text-gray-500 mb-10 leading-relaxed max-w-2xl mx-auto animate-fade-in font-medium",children:"Discover a world of verified local sellers, premium products, and secure transactions. Your next great find is just a click away."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center animate-scale-in mb-16",children:[e.jsx(i,{to:"/marketplace",className:"w-full sm:w-auto",children:e.jsxs(o,{size:"lg",className:"h-16 px-10 rounded-2xl text-lg font-bold bg-gray-900 hover:bg-black text-white shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 w-full sm:w-auto",children:["Start Exploring",e.jsx(Z,{className:"w-5 h-5 ml-2"})]})}),e.jsx(i,{to:"/products/upload",className:"w-full sm:w-auto",children:e.jsxs(o,{size:"lg",variant:"outline",className:"h-16 px-10 rounded-2xl text-lg font-bold border-2 border-gray-200 hover:border-emerald-500/50 bg-white/50 hover:bg-white text-gray-800 hover:text-emerald-700 transition-all duration-300 w-full sm:w-auto",children:[e.jsx(B,{className:"w-5 h-5 mr-2"}),"Sell Now"]})})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(ee,{})})]})})]}),e.jsx("section",{className:"py-12 bg-white relative animate-slide-in-up",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-2",children:"Discovery Centers"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Browse through our curated departments"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:u.map(t=>e.jsxs(i,{to:`/marketplace?category=${t.name}`,className:"group flex flex-col items-center p-6 rounded-3xl glass hover:glass-strong border border-white/20 hover:border-primary/30 hover:shadow-glow-primary transition-smooth duration-300 hover-lift",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl ${t.color} bg-opacity-10 flex items-center justify-center ${t.text} group-hover:scale-110 group-hover:rotate-6 transition-all`,children:g(t.icon)}),e.jsx("span",{className:"mt-4 text-[13px] font-bold text-gray-700 group-hover:text-primary transition-colors text-center",children:t.name})]},t.name))})]})}),e.jsx("section",{className:"py-20 animate-fade-in",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-end justify-between mb-12",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-1 w-12 bg-primary rounded-full"}),e.jsx("span",{className:"text-sm font-black text-primary uppercase tracking-widest",children:"Hand Picked"})]}),e.jsx("h2",{className:"text-4xl font-black text-gray-900",children:"Featured Creations"})]}),e.jsxs(i,{to:"/marketplace",className:"hidden sm:flex items-center gap-2 text-sm font-bold text-gray-500 hover:text-primary transition-colors group",children:["Browse all premium listings",e.jsx(D,{className:"w-4 h-4 group-hover:translate-x-1 transition-all"})]})]}),c?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[1,2,3,4].map(t=>e.jsxs("div",{className:"rounded-[40px] bg-white border border-gray-100 p-6 space-y-4 animate-pulse",children:[e.jsx("div",{className:"aspect-[4/5] rounded-[32px] bg-gray-100"}),e.jsx("div",{className:"h-4 w-1/2 bg-gray-100 rounded-full"}),e.jsx("div",{className:"h-8 w-full bg-gray-100 rounded-full"})]},t))}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:a.map(t=>e.jsx("div",{className:"group relative",children:e.jsxs(M,{className:"border-none bg-white rounded-[40px] p-4 shadow-elevated hover:shadow-floating transition-smooth duration-500 overflow-hidden group-hover:-translate-y-2 hover-lift",children:[e.jsxs("div",{className:"relative aspect-[4/5] rounded-[32px] overflow-hidden mb-6",children:[e.jsx("img",{src:_(t),alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),e.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[e.jsx(k,{className:"bg-white/90 backdrop-blur-md text-gray-900 font-black text-[10px] uppercase border-none h-8 px-4 rounded-xl",children:"Verified"}),e.jsx(o,{size:"icon",className:"w-10 h-10 rounded-xl bg-white/90 backdrop-blur-md text-gray-400 hover:text-red-500 border-none",children:e.jsx(T,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsx("div",{className:"bg-primary px-4 py-2 rounded-2xl text-white font-black shadow-lg shadow-primary/20",children:e.jsx(O,{kesAmount:t.price,originalAmount:t.original_price,size:"sm",className:"text-white"})})})]}),e.jsxs(V,{className:"p-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(k,{variant:"outline",className:"text-[10px] h-5 border-gray-100 font-bold uppercase text-gray-400",children:t.category}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{className:"w-3 h-3 fill-amber-400 text-amber-400"}),e.jsx("span",{className:"text-xs font-black text-gray-900",children:P(t).toFixed(1)})]})]}),e.jsx("h3",{className:"font-black text-gray-900 text-lg mb-2 line-clamp-1 group-hover:text-primary transition-colors",children:t.name}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 border border-gray-50 overflow-hidden flex items-center justify-center",children:t.profiles?.avatar_url?e.jsx("img",{src:t.profiles.avatar_url,alt:"avatar",className:"w-full h-full object-cover"}):e.jsx(b,{className:"w-4 h-4 text-gray-300"})}),e.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 rounded-full border border-white ${v(t.profiles?.updated_at)?"bg-green-500":"bg-gray-300"}`})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-900 truncate max-w-[80px] leading-tight",children:t.profiles?.full_name||"Seller"}),e.jsx("span",{className:"text-[8px] font-medium text-gray-400",children:v(t.profiles?.updated_at)?e.jsx("span",{className:"text-green-600",children:"Online"}):"Offline"})]})]}),e.jsx(i,{to:"/marketplace",children:e.jsx(o,{size:"sm",className:"bg-gray-50 hover:bg-primary hover:text-white text-gray-500 h-9 px-4 rounded-xl font-bold transition-all border-none",children:"Details"})})]})]})]})},t.id))})]})}),e.jsxs("section",{className:"py-24 bg-gray-900 overflow-hidden relative animate-slide-in-up",children:[e.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_50%_-20%,#10b98120,transparent)]"}),e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"max-w-xl mx-auto text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-5xl font-black text-white mb-6",children:"Why shop with us?"}),e.jsx("p",{className:"text-gray-400 font-medium",children:"We've built the safest commerce bridge in Kenya"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"Verified Sellers",desc:"Every seller goes through a multi-point identity verification process.",icon:e.jsx(S,{className:"w-8 h-8"}),color:"from-emerald-500 to-green-600"},{title:"Smart Tracking",desc:"Real-time AI insights helps you find the best deals at the best prices.",icon:e.jsx(C,{className:"w-8 h-8"}),color:"from-blue-500 to-indigo-600"},{title:"Direct Connect",desc:"Zero commission platform. Chat directly with sellers on WhatsApp.",icon:e.jsx(G,{className:"w-8 h-8"}),color:"from-purple-500 to-pink-600"}].map((t,s)=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:`absolute -inset-1 bg-gradient-to-r ${t.color} rounded-[40px] blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200`}),e.jsxs("div",{className:"relative h-full bg-gray-800/50 backdrop-blur-xl border border-white/5 rounded-[40px] p-10 flex flex-col items-center text-center",children:[e.jsx("div",{className:`w-20 h-20 rounded-3xl bg-gradient-to-br ${t.color} flex items-center justify-center text-white mb-8 shadow-2xl`,children:t.icon}),e.jsx("h3",{className:"text-2xl font-black text-white mb-4",children:t.title}),e.jsx("p",{className:"text-gray-400 font-medium leading-relaxed",children:t.desc})]})]},s))})]})]}),e.jsx("section",{className:"py-32 relative overflow-hidden",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-600 to-green-700 rounded-[60px] p-12 md:p-24 overflow-hidden shadow-2xl shadow-emerald-500/20",children:[e.jsx("div",{className:"absolute top-0 right-0 -m-20 w-[600px] h-[600px] bg-white opacity-5 rounded-full blur-[100px]"}),e.jsx("div",{className:"absolute bottom-0 left-0 -m-20 w-[400px] h-[400px] bg-black opacity-5 rounded-full blur-[100px]"}),e.jsxs("div",{className:"relative z-10 max-w-3xl",children:[e.jsx("h2",{className:"text-4xl md:text-6xl font-black text-white mb-8 tracking-tight",children:"Ready to boost your business in Kenya?"}),e.jsx("p",{className:"text-xl text-emerald-50/80 mb-12 font-medium",children:"Join 5,000+ businesses already growing with SellHub. Start selling in less than 2 minutes."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx(i,{to:"/register",children:e.jsx(o,{size:"lg",className:"h-16 px-12 rounded-2xl bg-white text-emerald-700 hover:bg-emerald-50 text-lg font-black shadow-xl w-full sm:w-auto transition-transform active:scale-95",children:"Join for Free"})}),e.jsx(i,{to:"/pricing",children:e.jsx(o,{size:"lg",variant:"outline",className:"h-16 px-12 rounded-2xl border-2 border-emerald-400 text-white hover:bg-emerald-500 text-lg font-black w-full sm:w-auto transition-transform active:scale-95",children:"View Premium Plans"})})]})]})]})})})]})]})};export{de as default};
