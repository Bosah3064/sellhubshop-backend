import{r as m,j as e,n as I,o as K,p as Y,s as h,q as L,g as Q,B as S,t as W,Z as G,v as Z,X as V,I as q,l as X,f as H,w as v}from"./index-DIxCcwTo.js";import{F as ee,C as te,u as se,a as ae,t as re,o as ie,s as O}from"./types-BUNQPvk4.js";import{D as ne,a as oe,b as le,c as ce}from"./dialog-YYEI7PMn.js";import{S as de}from"./separator-DYUwGkHk.js";import{U as J}from"./users-DBPXf3v8.js";import{C as me}from"./circle-check-BFErec5s.js";const ue=ee,T=m.createContext({}),U=({...t})=>e.jsx(T.Provider,{value:{name:t.name},children:e.jsx(te,{...t})}),C=()=>{const t=m.useContext(T),a=m.useContext(B),{getFieldState:r,formState:s}=se(),n=r(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=a;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},B=m.createContext({}),M=m.forwardRef(({className:t,...a},r)=>{const s=m.useId();return e.jsx(B.Provider,{value:{id:s},children:e.jsx("div",{ref:r,className:I("space-y-2",t),...a})})});M.displayName="FormItem";const R=m.forwardRef(({className:t,...a},r)=>{const{error:s,formItemId:n}=C();return e.jsx(K,{ref:r,className:I(s&&"text-destructive",t),htmlFor:n,...a})});R.displayName="FormLabel";const $=m.forwardRef(({...t},a)=>{const{error:r,formItemId:s,formDescriptionId:n,formMessageId:i}=C();return e.jsx(Y,{ref:a,id:s,"aria-describedby":r?`${n} ${i}`:`${n}`,"aria-invalid":!!r,...t})});$.displayName="FormControl";const pe=m.forwardRef(({className:t,...a},r)=>{const{formDescriptionId:s}=C();return e.jsx("p",{ref:r,id:s,className:I("text-sm text-muted-foreground",t),...a})});pe.displayName="FormDescription";const E=m.forwardRef(({className:t,children:a,...r},s)=>{const{error:n,formMessageId:i}=C(),u=n?String(n?.message):a;return u?e.jsx("p",{ref:s,id:i,className:I("text-sm font-medium text-destructive",t),...r,children:u}):null});E.displayName="FormMessage";const he=()=>{const[t,a]=m.useState(null),[r,s]=m.useState(!0),[n,i]=m.useState(null);return m.useEffect(()=>{(async()=>{const{data:{session:o}}=await h.auth.getSession();i(o),o?.user&&(a({id:o.user.id,email:o.user.email,full_name:o.user.user_metadata?.full_name||o.user.email?.split("@")[0]}),localStorage.setItem("user_session","true"),localStorage.setItem("user_data",JSON.stringify({id:o.user.id,email:o.user.email,full_name:o.user.user_metadata?.full_name||o.user.email?.split("@")[0]}))),s(!1)})();const{data:{subscription:w}}=h.auth.onAuthStateChange(async(o,d)=>{i(d),d?.user?(a({id:d.user.id,email:d.user.email,full_name:d.user.user_metadata?.full_name||d.user.email?.split("@")[0]}),localStorage.setItem("user_session","true"),localStorage.setItem("user_data",JSON.stringify({id:d.user.id,email:d.user.email,full_name:d.user.user_metadata?.full_name||d.user.email?.split("@")[0]}))):(a(null),localStorage.removeItem("user_session"),localStorage.removeItem("user_data")),s(!1)});return()=>w.unsubscribe()},[]),{user:t,session:n,isAuthenticated:!!t,isLoading:r,signOut:async()=>{await h.auth.signOut()}}};class j{static instance;backendUrl="https://sellhubshop-backend.onrender.com/api";constructor(){console.log("[PaymentService] Initialized with backend URL:",this.backendUrl)}static getInstance(){return j.instance||(j.instance=new j),j.instance}async makeRequest(a,r={}){const{data:{session:s}}=await h.auth.getSession(),n=s?.access_token,i={"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{},...r.headers},u=`${this.backendUrl}${a}`;console.log(`[PaymentService] Making request to: ${u}`);const f=await fetch(u,{...r,headers:i});if(console.log(`[PaymentService] Response status: ${f.status}`),!f.ok){const w=await f.text();console.error(`[PaymentService] Error response body: ${w}`);let o;try{o=JSON.parse(w)}catch{o={error:"Unknown error",details:w}}throw new Error(o.error||`Request failed with status ${f.status}`)}return f.json()}async initiateMpesaPayment(a,r){try{let s=a.replace(/\D/g,"");s.startsWith("0")?s="254"+s.substring(1):s.startsWith("254")||(s="254"+s);const n=await this.makeRequest("/v1/stk-push",{method:"POST",body:JSON.stringify({phone:s,amount:r.amount,reference:r.reference,description:r.description,metadata:r.metadata})});return{success:!0,checkoutRequestID:n.CheckoutRequestID,merchantRequestID:n.MerchantRequestID,customerMessage:n.CustomerMessage}}catch(s){return console.error("âŒ M-Pesa initiation error:",s),{success:!1,error:s instanceof Error?s.message:"Unknown payment error"}}}async checkPaymentStatus(a){try{if(console.log("ðŸ” Checking M-Pesa payment status:",a),!a)return{status:"failed",error:"Invalid checkout request ID"};const r=await this.makeRequest("/v1/query",{method:"POST",body:JSON.stringify({checkoutRequestID:a})}),s=String(r.ResultCode||r.resultCode);return s==="0"?{status:"completed",mpesaReceiptNumber:r.MpesaReceiptNumber,transaction_id:a}:["1032","1037","1","2001"].includes(s)?{status:"failed",error:r.ResultDesc||"Payment failed or was cancelled"}:{status:"pending"}}catch(r){return console.error("âŒ Status check error:",r),{status:"failed",error:r instanceof Error?r.message:"Status check failed"}}}}const A=j.getInstance(),xe=ie({fullName:O().min(1,"Full name is required").max(100,"Full name cannot exceed 100 characters").regex(/^[a-zA-Z\s]+$/,"Full name can only contain letters and spaces"),phoneNumber:O().min(1,"Phone number is required").regex(/^07[0-9]{8}$/,"Please enter a valid Safaricom number (e.g., 0712345678)")}),fe=[{id:"free",uuid:"ceb71ae1-caaa-44df-8b1a-62daa6a2938e",name:"Free",priceMonthly:0,priceYearly:0,limit:"5 Products",description:"Perfect for testing the waters",icon:J,cta:"Get Started",features:["List up to 5 products","Basic seller profile","3 product images per listing","Email support","Community forum access"]},{id:"silver",uuid:"0b922be5-91b7-46c7-8ac9-2c0a95e32593",name:"Silver",priceMonthly:500,priceYearly:5e3,limit:"50 Products",popular:!0,description:"Ideal for growing businesses",icon:W,cta:"Upgrade Now",features:["List up to 50 products","Priority search placement","10 product images per listing","Advanced sales analytics","Promotional badges","Priority email support"]},{id:"gold",uuid:"f34c0928-7494-46a6-9ff9-c4d498818297",name:"Gold",priceMonthly:1200,priceYearly:12e3,limit:"Unlimited Products",description:"For established brands & power sellers",icon:G,cta:"Go Premium",features:["Unlimited product listings","Featured homepage placement","Unlimited product images","Advanced analytics & insights","Dedicated account manager","24/7 priority support"]}],F=(t,a="KES")=>new Intl.NumberFormat("en-KE",{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:0}).format(t);function _e(){const[t,a]=m.useState("monthly"),{isAuthenticated:r,user:s,isLoading:n}=he();return console.log("Pricing Component Rendering",{isLoading:n,isAuthenticated:r,billingCycle:t}),m.useEffect(()=>{console.log("Pricing Component Mounted"),document.title="Pricing Plans | SellHub Marketplace";const i=document.querySelector('meta[name="description"]');i&&i.setAttribute("content","Choose your perfect marketplace plan. Flexible pricing for sellers at all levels."),document.querySelector('meta[name="keywords"]');const u=document.createElement("meta");u.name="keywords",u.content="marketplace pricing, KES payment, subscription plans, seller plans",document.head.appendChild(u)},[]),n?(console.log("Pricing Page: Loading authentication..."),e.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[e.jsx(L,{className:"h-8 w-8 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Checking authentication..."})]})):e.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-indigo-950 via-slate-950 to-black text-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] rounded-full bg-purple-600/20 blur-[120px]"}),e.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] rounded-full bg-blue-600/10 blur-[120px]"})]}),e.jsxs("main",{className:"relative container mx-auto py-20 px-4 z-10",children:[e.jsxs("header",{className:"mb-20 text-center max-w-4xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-center gap-3 mb-8",children:e.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-full px-4 py-1.5 border border-white/10 flex items-center gap-2 shadow-2xl",children:e.jsxs("span",{className:"text-sm font-medium text-emerald-400 flex items-center gap-1",children:[e.jsx(Q,{className:"w-3 h-3 fill-current"}),"Featured Seller Plans"]})})}),e.jsx("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight mb-8",children:e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-white via-indigo-200 to-indigo-100",children:"Unlock Your Potential"})}),e.jsx("p",{className:"text-xl text-slate-400 leading-relaxed mb-12 max-w-2xl mx-auto",children:"Choose the perfect plan to scale your business. Join thousands of sellers growing with SaleStream."}),e.jsxs("div",{className:"inline-flex items-center p-1.5 rounded-full bg-slate-900/80 border border-slate-800 backdrop-blur-xl relative",children:[e.jsx(S,{variant:"ghost",onClick:()=>a("monthly"),className:`rounded-full px-8 py-6 text-base font-medium transition-all duration-300 ${t==="monthly"?"bg-indigo-600 text-white shadow-[0_0_20px_rgba(79,70,229,0.4)]":"text-slate-400 hover:text-white"}`,children:"Monthly"}),e.jsxs(S,{variant:"ghost",onClick:()=>a("yearly"),className:`rounded-full px-8 py-6 text-base font-medium transition-all duration-300 ${t==="yearly"?"bg-indigo-600 text-white shadow-[0_0_20px_rgba(79,70,229,0.4)]":"text-slate-400 hover:text-white"}`,children:["Yearly",e.jsx("span",{className:"ml-2 bg-emerald-500/20 text-emerald-400 text-xs px-2 py-0.5 rounded-full border border-emerald-500/30",children:"-20%"})]})]})]}),e.jsx("section",{className:"grid gap-8 lg:grid-cols-3 max-w-7xl mx-auto mb-24 items-center",children:fe.map(i=>e.jsx(ge,{plan:i,billingCycle:t,isAuthenticated:r,user:s},i.id))})]})]})}function ge({plan:t,billingCycle:a,isAuthenticated:r,user:s}){const[n,i]=m.useState(!1),u=a==="monthly"?t.priceMonthly:t.priceYearly,f=t.id==="free",w=t.icon,o=()=>{if(!r){v({title:"Authentication Required",description:"Please sign in to upgrade your plan.",variant:"destructive"});return}i(!0)},d=async()=>{try{const{error:y}=await h.from("subscriptions").insert({user_id:s.id,plan_id:t.id,plan_name:t.name,billing_cycle:"monthly",amount:0,currency:"KES",status:"active",payment_method:"free",customer_name:s?.full_name||s?.email||"Free User",activated_at:new Date().toISOString()});if(y)throw y;const l={planId:t.id,planName:t.name,billingCycle:"monthly",paymentMethod:"free",customerName:s?.full_name||s?.email||"",currency:"KES",amount:0,userId:s?.id,activatedAt:new Date().toISOString(),status:"active"};localStorage.setItem("marketplace_current_plan",JSON.stringify(l)),v({title:"ðŸŽ‰ Welcome!",description:"Your free plan has been activated successfully."}),setTimeout(()=>{window.location.href="/dashboard"},1500)}catch(y){console.error("Error activating free plan:",y),v({title:"Error",description:"Failed to activate free plan. Please try again.",variant:"destructive"})}},_=()=>t.id==="gold"?"bg-gradient-to-b from-amber-900/20 to-black/40 border-amber-500/30 hover:border-amber-500/60 shadow-[0_0_40px_rgba(245,158,11,0.1)] hover:shadow-[0_0_60px_rgba(245,158,11,0.2)]":t.id==="silver"?"bg-gradient-to-b from-slate-800/40 to-black/40 border-slate-400/20 hover:border-slate-400/40 shadow-[0_0_30px_rgba(148,163,184,0.05)]":"bg-slate-900/40 border-white/5 hover:border-white/10 hover:bg-slate-800/40",D=()=>t.id==="gold"?"bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white shadow-lg shadow-amber-900/20 border-0":"bg-white/10 hover:bg-white/20 text-white border-0 backdrop-blur-sm",P=()=>{f?d():o()};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:P,className:`relative flex flex-col p-8 rounded-3xl backdrop-blur-xl transition-all duration-300 group border cursor-pointer transform hover:-translate-y-2 hover:shadow-2xl ${_()} ${t.popular?"lg:scale-110 z-10":"hover:scale-[1.03]"}`,children:[t.popular&&e.jsx("div",{className:"absolute top-0 right-0 p-4",children:e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 text-white text-[10px] uppercase font-bold px-3 py-1 rounded-full shadow-lg tracking-wider",children:"Popular"})}),e.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-white/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex-grow",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center ${t.id==="gold"?"bg-amber-500/20 text-amber-400":"bg-indigo-500/20 text-indigo-400"}`,children:e.jsx(w,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:t.name}),e.jsx("p",{className:"text-sm text-slate-400",children:t.id==="gold"?"Ultimate Experience":t.id==="silver"?"Pro Features":"Starter Pack"})]})]}),e.jsx("div",{className:"mb-8",children:f?e.jsx("div",{className:"flex items-baseline gap-1",children:e.jsx("span",{className:"text-4xl font-bold text-white",children:"Free"})}):e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-4xl font-bold text-white tracking-tight",children:F(u)}),e.jsxs("span",{className:"text-slate-400 font-medium",children:["/",a==="monthly"?"mo":"yr"]})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm",children:a==="yearly"&&e.jsxs("span",{className:"text-xs text-amber-400 bg-amber-400/10 px-2 py-0.5 rounded-full",children:["Save ",F(t.priceMonthly*12-u)]})})]})}),e.jsx(de,{className:"bg-white/10 mb-8"}),e.jsxs("div",{className:"space-y-5 mb-8",children:[e.jsx("p",{className:"text-sm font-medium text-white/50 uppercase tracking-wider text-xs",children:"Includes:"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-300",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(me,{className:"w-3 h-3 text-emerald-400"})}),e.jsx("span",{className:"font-semibold text-white",children:t.limit})]}),t.features.map((y,l)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-300 group-hover:text-slate-200 transition-colors",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-600 mt-1.5 group-hover:bg-slate-400 transition-colors"}),e.jsx("span",{className:"leading-relaxed",children:y})]},l))]})]})]}),e.jsx("div",{className:"relative z-10 pt-4 mt-auto",children:e.jsx(S,{className:`w-full py-6 rounded-xl text-base font-semibold transition-all shadow-lg ${D()}`,children:f||r?t.cta:"Sign In to Upgrade"})})]}),!f&&e.jsx(ne,{open:n,onOpenChange:i,children:r&&e.jsx(be,{plan:t,billingCycle:a,onClose:()=>i(!1),user:s})})]})}function be({plan:t,billingCycle:a,onClose:r,user:s}){const n=Z(),[i,u]=m.useState(!1),[f,w]=m.useState("mpesa"),o=a==="monthly"?t.priceMonthly:t.priceYearly,d=ae({resolver:re(xe),defaultValues:{fullName:s?.full_name||s?.email?.split("@")[0]||"",phoneNumber:""}}),_=async l=>{u(!0);let x=null;try{const c=`SUB_${t.id}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,{data:b,error:N}=await h.from("subscriptions").insert({user_id:s.id,plan_id:t.uuid,plan_name:t.id,billing_cycle:a,amount:o,currency:"KES",status:"pending",payment_method:"mpesa",reference:c,customer_name:l.fullName,phone_number:l.phoneNumber,initiated_at:new Date().toISOString()}).select().single();if(N)throw N;b&&(x=b.id);const{data:g}=await h.from("billing_history").insert({user_id:s.id,subscription_id:b.id,amount:o,currency:"KES",status:"pending",description:`Subscription: ${t.name} plan (Initiated)`,payment_method:"mpesa"}).select().single(),k=g?.id,p=await A.initiateMpesaPayment(l.phoneNumber,{amount:o,currency:"KES",description:`${t.name} Plan - ${a} subscription`,reference:c,customer_name:l.fullName,metadata:{plan_id:t.id,plan_name:t.name,billing_cycle:a,user_id:s.id,user_email:s.email}});if(p.success&&p.checkoutRequestID){await h.from("subscriptions").update({checkout_request_id:p.checkoutRequestID,merchant_request_id:p.merchantRequestID}).eq("id",b.id);const z={planId:t.id,planName:t.name,billingCycle:a,paymentMethod:"mpesa",customerName:l.fullName,currency:"KES",amount:o,checkoutRequestID:p.checkoutRequestID,reference:c,initiatedAt:new Date().toISOString(),status:"pending",userId:s?.id};localStorage.setItem("marketplace_current_plan",JSON.stringify(z)),v({title:"ðŸ“± M-Pesa Prompt Sent!",description:"Check your phone to complete the payment."}),await D(p.checkoutRequestID,b.id,k)}else throw new Error(p.error||"Failed to initiate M-Pesa payment")}catch(c){console.error("Payment processing error:",c);const b=c instanceof Error?c.message:typeof c=="object"&&c!==null&&"error"in c?c.error:"Initialization failed";v({title:"Payment Failed",description:b,variant:"destructive"}),x&&await h.from("subscriptions").update({status:"failed",failure_reason:b}).eq("id",x)}finally{u(!1)}},D=async(l,x,c,b=40)=>{console.log("Starting Hybrid Polling (DB + Safaricom Query) for Subscription:",x);for(let N=0;N<b;N++){await new Promise(g=>setTimeout(g,3e3));try{const{data:g,error:k}=await h.from("subscriptions").select("status, mpesa_receipt_number, failure_reason").eq("id",x).single();if(k)console.error("Error polling DB:",k);else{if(console.log(`Polling Attempt ${N+1}: DB Status is '${g?.status}'`),g?.status==="active"){c&&await h.from("billing_history").update({status:"completed",mpesa_receipt_number:g.mpesa_receipt_number}).eq("id",c),P(g.mpesa_receipt_number);return}if(g?.status==="failed"){c&&await h.from("billing_history").update({status:"failed",description:`Failed: ${g.failure_reason}`}).eq("id",c),y(g.failure_reason);return}}if(N%2===0){console.log("DB is pending. Querying Safaricom directly...");const p=await A.checkPaymentStatus(l);if(p.status==="completed"||p.status==="active"||p.status==="success"){console.log("Safaricom confirmed SUCCESS via Query!"),await h.from("subscriptions").update({status:"active",mpesa_receipt_number:p.mpesaReceiptNumber,confirmed_at:new Date().toISOString(),activated_at:new Date().toISOString()}).eq("id",x),c&&await h.from("billing_history").update({status:"completed",mpesa_receipt_number:p.mpesaReceiptNumber}).eq("id",c),P(p.mpesaReceiptNumber);return}else if(p.status==="failed"){console.log("Safaricom confirmed FAILURE via Query!"),await h.from("subscriptions").update({status:"failed",failure_reason:p.error||"Payment failed"}).eq("id",x),c&&await h.from("billing_history").update({status:"failed",description:`Failed: ${p.error}`}).eq("id",c),y(p.error);return}}}catch(g){console.error("Polling error:",g)}}v({title:"Payment pending",description:"We haven't received confirmation yet. Please check your dashboard later."}),u(!1)},P=async(l="")=>{const x=JSON.parse(localStorage.getItem("marketplace_current_plan")||"{}");x.status="active",x.confirmedAt=new Date().toISOString(),localStorage.setItem("marketplace_current_plan",JSON.stringify(x)),s?.id&&t?.id&&(console.log("Frontend: Forcing profile plan update to",t.id),await h.from("profiles").update({plan_type:t.id}).eq("id",s.id)),v({title:"Payment Confirmed!",description:`Your ${t.name} plan is now active. Receipt: ${l}`}),r(),setTimeout(()=>n("/dashboard",{replace:!0}),1e3)},y=(l="Payment failed")=>{v({title:"Payment Failed",description:l,variant:"destructive"}),u(!1)};return e.jsxs(oe,{className:"sm:max-w-lg p-0 overflow-hidden bg-gradient-to-b from-slate-900 to-slate-950 border-slate-800 text-white rounded-2xl",children:[e.jsxs("div",{className:"relative p-6 pb-4 border-b border-white/10",children:[e.jsx(le,{asChild:!0,children:e.jsx(S,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 h-8 w-8 text-slate-400 hover:text-white hover:bg-white/10 rounded-full",children:e.jsx(V,{className:"h-4 w-4"})})}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"inline-flex items-center justify-center gap-2 bg-green-500/20 text-green-400 border-green-500/30 text-xs font-semibold px-3 py-1 rounded-full border",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"M-PESA PAYMENT"]}),e.jsxs(ce,{className:"text-2xl font-bold text-white",children:[t.name," Plan"]}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-4xl font-bold text-white",children:F(o)}),e.jsxs("span",{className:"text-slate-400 text-sm",children:["/",a==="monthly"?"mo":"yr"]})]})]})]}),e.jsx("div",{className:"max-h-[50vh] overflow-y-auto p-6 space-y-5",children:e.jsx(ue,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(_),className:"space-y-5",children:[e.jsx(U,{control:d.control,name:"fullName",render:({field:l})=>e.jsxs(M,{children:[e.jsx(R,{className:"text-slate-300 text-sm font-medium",children:"Full Name"}),e.jsx($,{children:e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-3 top-3 h-4 w-4 text-slate-500"}),e.jsx(q,{placeholder:"John Doe",...l,disabled:i,className:"pl-10 h-12 bg-slate-800/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500/20 rounded-xl"})]})}),e.jsx(E,{className:"text-xs text-red-400"})]})}),f==="mpesa"&&e.jsx(U,{control:d.control,name:"phoneNumber",render:({field:l})=>e.jsxs(M,{children:[e.jsx(R,{className:"text-slate-300 text-sm font-medium",children:"M-Pesa Phone Number"}),e.jsx($,{children:e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute left-3 top-3 h-4 w-4 text-slate-500"}),e.jsx(q,{...l,placeholder:"0712345678",maxLength:10,disabled:i,onChange:x=>l.onChange(x.target.value.replace(/\D/g,"")),className:"pl-10 h-12 bg-slate-800/50 border-slate-700 text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-indigo-500/20 rounded-xl"})]})}),e.jsx(E,{className:"text-xs text-red-400"})]})}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/50 rounded-xl border border-slate-700",children:[e.jsx(H,{className:"w-5 h-5 text-emerald-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white text-sm",children:"Secure Payment"}),e.jsx("div",{className:"text-slate-400 text-xs",children:"256-bit SSL Encryption"})]})]})]})})}),e.jsx("div",{className:"p-6 pt-4 border-t border-white/10 bg-slate-950",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(S,{type:"button",variant:"outline",onClick:r,disabled:i,className:"flex-1 h-12 rounded-xl bg-transparent border-slate-700 text-slate-300 hover:bg-slate-800 hover:text-white",children:"Cancel"}),e.jsx(S,{type:"submit",disabled:i,onClick:d.handleSubmit(_),className:"flex-1 h-12 rounded-xl font-bold text-white shadow-lg bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-green-900/30",children:i?e.jsx(L,{className:"w-5 h-5 animate-spin"}):`Pay ${F(o)}`})]})})]})}export{_e as default};
