import{c as De,a9 as Pe,v as Ie,r as n,a as Ee,s as c,al as m,j as e,B as h,L as W,bi as Ae,d as f,S as T,M as B,P as K,a2 as Fe,H as qe,b as j,g as Le,ah as Re,ai as Ue,aj as D,ak as P,aR as He,aQ as Oe,a6 as ze}from"./index-DIxCcwTo.js";import{A as I,a as E,b as A}from"./avatar-C_jNKov4.js";import{D as V,a as G,d as J,c as X}from"./dialog-YYEI7PMn.js";import{A as We}from"./arrow-left-Bbz-V8UC.js";import{C as Be}from"./calendar-CuODnOhg.js";import{E as Ke}from"./eye-DkAcDlvf.js";import{T as Ve}from"./trending-down-DBiRQaEc.js";import{R as Ge,C as Je,X as Xe,Y as Ye,T as Qe}from"./generateCategoricalChart-pUYUcWZP.js";import{A as Ze,a as es}from"./AreaChart-BnsgDcCU.js";import{S as ss}from"./share-2-9Fu0c9JZ.js";import{U as ts}from"./user-plus-CkgzSKE5.js";import{S as Y}from"./shield-check-CLmxCABJ.js";import{C as as}from"./circle-check-BFErec5s.js";import{M as Q}from"./message-circle-C61Fvmn6.js";import{f as v}from"./format-CcXPetpd.js";import{s as y}from"./subDays-Di7uyB7o.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=De("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);function Ss(){const{id:w}=Pe(),g=Ie(),[t,Z]=n.useState(null),[r,S]=n.useState(null),[k,ee]=n.useState([]),[F,se]=n.useState([]),[te,q]=n.useState(!0),[L,ae]=n.useState(0),[R,C]=n.useState(!1),[_,$]=n.useState(!1),[l,re]=n.useState(null),[ie,le]=n.useState("description"),[ne,N]=n.useState(!1),[oe,U]=n.useState(!1),[is,H]=n.useState(!1),{addToCart:ce}=Ee(),O=s=>s?(new Date().getTime()-new Date(s).getTime())/6e4<10:!1,de=s=>{if(!s)return"Offline";const a=Math.floor((new Date().getTime()-new Date(s).getTime())/6e4);if(a<1)return"Online now";if(a<60)return`${a}m ago`;const i=Math.floor(a/60);return i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`};n.useEffect(()=>{he()},[]),n.useEffect(()=>{w&&(pe(),me(w))},[w,l]);const me=s=>{try{const a=localStorage.getItem("recently_viewed")||"[]";let i=JSON.parse(a);i=i.filter(x=>x!==s),i.unshift(s),i=i.slice(0,10),localStorage.setItem("recently_viewed",JSON.stringify(i))}catch(a){console.error("Error tracking recently viewed:",a)}},xe=[{date:v(y(new Date,30),"MMM d"),price:(t?.price||0)*1.2},{date:v(y(new Date,20),"MMM d"),price:(t?.price||0)*1.15},{date:v(y(new Date,15),"MMM d"),price:(t?.price||0)*1.1},{date:v(y(new Date,7),"MMM d"),price:(t?.price||0)*1.05},{date:"Now",price:t?.price||0}],z=(()=>{if(!r)return 0;let s=70;return r.rating>=4.5&&(s+=15),r.followers_count>10&&(s+=10),r.total_reviews>5&&(s+=5),Math.min(s,100)})(),he=async()=>{try{const{data:{user:s}}=await c.auth.getUser();re(s)}catch(s){console.error("Error initializing user:",s)}},pe=async()=>{try{q(!0);const{data:s,error:a}=await c.from("products").select("*").eq("id",w).single();if(a){console.error("Error fetching product:",a),m.error("Product not found"),g("/marketplace");return}if(s){Z(s);const{data:i}=await c.from("profiles").select("*").eq("id",s.user_id).single();if(i){const[x,p]=await Promise.all([ue(i.id),fe(i.id)]),d={...i,followers_count:x,following_count:p,rating:i.rating||5,total_reviews:i.total_reviews||0};S(d),l&&await je(i.id)}await we(s.user_id),await ge(s),l&&await ve()}}catch(s){console.error("Error loading product data:",s),m.error("Failed to load product")}finally{q(!1)}},ue=async s=>{const{count:a}=await c.from("followers").select("*",{count:"exact",head:!0}).eq("following_id",s);return a||0},fe=async s=>{const{count:a}=await c.from("followers").select("*",{count:"exact",head:!0}).eq("follower_id",s);return a||0},ge=async s=>{try{const a=s.name.split(" ").filter(d=>d.length>3).slice(0,2);let i=c.from("products").select("*").neq("id",s.id).eq("status","active");if(a.length>0){const d=a.map(u=>`name.ilike.%${u}%`).join(",");i=i.or(`category.eq."${s.category}",${d}`)}else i=i.eq("category",s.category);const{data:x,error:p}=await i.order("featured",{ascending:!1}).order("created_at",{ascending:!1}).limit(4);if(p)throw p;se(x||[])}catch(a){console.error("Error loading AI similar products:",a)}},je=async s=>{if(!l)return;const{data:a}=await c.from("followers").select("id").eq("follower_id",l.id).eq("following_id",s).maybeSingle();$(!!a)},we=async s=>{const{data:a}=await c.from("reviews").select("*").eq("seller_id",s).order("created_at",{ascending:!1}).limit(5);if(a&&a.length>0){const i=a.map(d=>d.reviewer_id),{data:x}=await c.from("profiles").select("id, full_name, avatar_url, username").in("id",i),p=a.map(d=>({...d,reviewer:x?.find(u=>u.id===d.reviewer_id)}));ee(p)}},b=async s=>{try{if(!t||!r)return;const i=`https://sellhubshop-backend.onrender.com/api/share/product/${t.id}`,x=t.name,p=`KES ${t.price.toLocaleString()}`,d=r.full_name||r.username,u=`Check out "${x}" for ${p} by ${d} on MarketHub!`;switch(s){case"whatsapp":const Ce=`${u}

${i}`;window.open(`https://wa.me/?text=${encodeURIComponent(Ce)}`,"_blank");break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(i)}`,"_blank");break;case"twitter":const _e=`${u}

${i}`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(_e)}`,"_blank");break;case"telegram":const ns=`${u}

${i}`;window.open(`https://t.me/share/url?url=${encodeURIComponent(i)}&text=${encodeURIComponent(u)}`,"_blank");break;case"email":const $e=`Check out this amazing product: ${x}`,Me=`
Hi!

I found this amazing product on MarketHub that you might be interested in:

ðŸ›ï¸ ${x}
ðŸ’° ${p}
ðŸ‘¤ Sold by: ${d}
ðŸ“ Location: ${t.location}
â­ Condition: ${t.condition}

${t.description?t.description.substring(0,150)+"...":""}

Check it out here: ${i}

Happy shopping! ðŸŽ‰

--
Shared via MarketHub
          `.trim();window.open(`mailto:?subject=${encodeURIComponent($e)}&body=${encodeURIComponent(Me)}`);break;case"copy":default:{const Te=`
ðŸ›ï¸ ${x}
ðŸ’° ${p}
ðŸ“ ${t.location}
â­ ${t.condition}

${t.description?t.description.substring(0,100)+"...":""}

ðŸ”— ${i}

#MarketHub #${t.category.replace(/\s+/g,"")} #${t.subcategory.replace(/\s+/g,"")}
          `.trim();await navigator.clipboard.writeText(Te),H(!0),m.success("Product link copied!"),setTimeout(()=>{H(!1),N(!1)},1500);break}}s!=="copy"&&(N(!1),m.success(`Shared on ${s.charAt(0).toUpperCase()+s.slice(1)}!`))}catch(a){console.error("Share error:",a),m.error("Failed to share product")}},Ne=async()=>{try{if(!l){m.error("Please sign in to add items to wishlist"),g("/signin");return}if(!t)return;if(R){const{error:s}=await c.from("wishlist").delete().eq("user_id",l.id).eq("product_id",t.id);if(s)throw s;C(!1),m.success("Removed from wishlist")}else{const{error:s}=await c.from("wishlist").insert({user_id:l.id,product_id:t.id});if(s)throw s;C(!0),m.success("Added to wishlist!")}}catch(s){console.error("Error updating wishlist:",s),m.error("Failed to update wishlist")}},be=async()=>{try{if(!l){m.error("Please sign in to follow users"),g("/signin");return}if(!r)return;if(_){const{error:s}=await c.from("followers").delete().eq("follower_id",l.id).eq("following_id",r.id);if(s)throw s;$(!1),S(a=>a?{...a,followers_count:a.followers_count-1}:null),m.success(`Unfollowed ${r.full_name}`)}else{const{error:s}=await c.from("followers").insert({follower_id:l.id,following_id:r.id,created_at:new Date().toISOString()});if(s)throw s;$(!0),S(a=>a?{...a,followers_count:a.followers_count+1}:null),m.success(`Following ${r.full_name}`)}}catch(s){console.error("Error following seller:",s),m.error("Failed to update follow status")}},ve=async()=>{if(!l||!t)return;const{data:s}=await c.from("wishlist").select("*").eq("user_id",l.id).eq("product_id",t.id).maybeSingle();C(!!s)},M=()=>{r&&g(`/profile/${r.id}`)},ye=()=>{r&&g(`/profile/${r.id}/followers`)},Se=()=>{r&&g(`/profile/${r.id}/products`)};if(te)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-xl",children:"Loading product..."})]})});if(!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl mb-4",children:"Product not found"}),e.jsx(h,{asChild:!0,children:e.jsx(W,{to:"/marketplace",children:"Back to Marketplace"})})]})});const ke=t.original_price?Math.round((t.original_price-t.price)/t.original_price*100):0,o={title:`${t.name} - KES ${t.price?.toLocaleString()} | MarketHub`,description:t.description?.substring(0,160)||`Buy ${t.name} on MarketHub - ${t.price?`KES ${t.price.toLocaleString()}`:"Great deal"}`,image:t.images?.[0]||"/placeholder.svg",url:window.location.href,productName:t.name,price:t.price,currency:"KES",condition:t.condition,sellerName:r?.full_name||r?.username||"MarketHub Seller"};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs(Ae,{children:[e.jsx("title",{children:o.title}),e.jsx("meta",{name:"description",content:o.description}),e.jsx("meta",{property:"og:type",content:"product"}),e.jsx("meta",{property:"og:url",content:o.url}),e.jsx("meta",{property:"og:title",content:o.productName}),e.jsx("meta",{property:"og:description",content:o.description}),e.jsx("meta",{property:"og:image",content:o.image}),e.jsx("meta",{property:"og:image:width",content:"1200"}),e.jsx("meta",{property:"og:image:height",content:"630"}),e.jsx("meta",{property:"og:site_name",content:"MarketHub"}),e.jsx("meta",{property:"og:locale",content:"en_US"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:site",content:"@Markethub"}),e.jsx("meta",{name:"twitter:title",content:o.productName}),e.jsx("meta",{name:"twitter:description",content:o.description}),e.jsx("meta",{name:"twitter:image",content:o.image}),e.jsx("meta",{name:"twitter:creator",content:"@Markethub"}),e.jsx("meta",{property:"product:price:amount",content:o.price?.toString()}),e.jsx("meta",{property:"product:price:currency",content:o.currency}),e.jsx("meta",{property:"product:condition",content:o.condition}),e.jsx("meta",{property:"product:brand",content:o.sellerName}),e.jsx("meta",{property:"product:availability",content:"in stock"}),e.jsx("meta",{name:"robots",content:"index, follow"}),e.jsx("link",{rel:"canonical",href:o.url})]}),e.jsx("div",{className:"border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs(h,{variant:"ghost",onClick:()=>g(-1),className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-4 w-4"}),"Back"]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-square overflow-hidden rounded-lg border bg-muted/30 relative",children:t.video_url?e.jsx("video",{src:t.video_url,className:"w-full h-full object-cover",controls:!0,muted:!0}):e.jsx("img",{src:t.images?.[L]||"/placeholder.svg",alt:t.name,className:"w-full h-full object-cover"})}),t.images&&t.images.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.images.map((s,a)=>e.jsx("button",{onClick:()=>ae(a),className:`aspect-square overflow-hidden rounded-lg border-2 ${L===a?"border-green-600":"border-transparent"}`,children:e.jsx("img",{src:s,alt:`${t.name} ${a+1}`,className:"w-full h-full object-cover"})},a))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(f,{variant:"secondary",children:t.category}),e.jsx(f,{variant:"outline",children:t.subcategory}),t.featured&&e.jsxs(f,{className:"bg-green-600 text-white",children:[e.jsx(T,{className:"h-3 w-3 mr-1"}),"Featured"]})]}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:new Date(t.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"245 views"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-4xl font-bold text-green-600",children:["KES ",t.price?.toLocaleString()]}),t.original_price&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-2xl text-muted-foreground line-through",children:["KES ",t.original_price.toLocaleString()]}),e.jsxs(f,{variant:"destructive",className:"text-sm",children:[ke,"% OFF"]})]})]}),e.jsxs("div",{className:"p-4 bg-green-50/50 border border-green-100 rounded-xl space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-bold text-green-800 font-urbanist",children:"Price Insight"})]}),e.jsx(f,{className:"bg-green-600 text-white text-[10px] uppercase tracking-wider px-2 py-0.5",children:"Great Deal"})]}),e.jsxs("p",{className:"text-xs text-green-700 leading-relaxed",children:["This product is priced ",e.jsx("span",{className:"font-bold",children:"12% lower"})," than the average Marketplace price for similar ",t.subcategory," items."]}),e.jsx("div",{className:"h-24 w-full mt-2",children:e.jsx(Ge,{width:"100%",height:"100%",children:e.jsxs(Ze,{data:xe,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorPrice",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#16a34a",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#16a34a",stopOpacity:0})]})}),e.jsx(Je,{strokeDasharray:"3 3",vertical:!1,stroke:"#E5E7EB"}),e.jsx(Xe,{dataKey:"date",hide:!0}),e.jsx(Ye,{hide:!0,domain:["dataMin - 100","dataMax + 100"]}),e.jsx(Qe,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},itemStyle:{fontSize:"10px",color:"#16a34a",fontWeight:"bold"}}),e.jsx(es,{type:"monotone",dataKey:"price",stroke:"#16a34a",strokeWidth:2,fillOpacity:1,fill:"url(#colorPrice)"})]})})}),e.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 font-medium px-1",children:[e.jsx("span",{children:"30 days ago"}),e.jsx("span",{children:"Today"})]})]}),t.is_negotiable&&e.jsx(f,{variant:"outline",className:"text-green-600 border-green-600",children:"Price Negotiable"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Condition: "}),e.jsx(f,{variant:"secondary",children:t.condition})]}),t.properties&&Object.keys(t.properties).length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Specifications:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(t.properties).map(([s,a])=>e.jsxs(f,{variant:"outline",children:[e.jsxs("strong",{children:[s,":"]})," ",a]},s))})]})]}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsxs(h,{size:"lg",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>U(!0),children:[e.jsx(K,{className:"h-5 w-5 mr-2"}),"Contact Seller"]}),e.jsxs(h,{size:"lg",variant:"outline",className:"flex-1 border-primary text-primary hover:bg-primary/5",onClick:()=>ce(t),children:[e.jsx(Fe,{className:"h-5 w-5 mr-2"}),"Add to Cart"]}),e.jsx(h,{size:"icon",variant:"outline",onClick:Ne,children:e.jsx(qe,{className:`h-5 w-5 ${R?"fill-red-500 text-red-500":""}`})}),e.jsx(h,{size:"icon",variant:"outline",onClick:()=>N(!0),children:e.jsx(ss,{className:"h-5 w-5"})})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(I,{className:"w-16 h-16 cursor-pointer border border-gray-100",onClick:M,children:[e.jsx(E,{src:r.avatar_url||void 0}),e.jsx(A,{className:"text-lg",children:r.full_name?.charAt(0)||r.username?.charAt(0)})]}),e.jsx("span",{className:`absolute bottom-0.5 right-0.5 w-4 h-4 rounded-full border-2 border-white ${O(r.updated_at)?"bg-green-500":"bg-gray-300"}`})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg cursor-pointer hover:text-green-600 transition-colors",onClick:M,children:r.full_name||r.username}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[e.jsx(B,{className:"h-3 w-3"}),r.location]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:O(r.updated_at)?e.jsx("span",{className:"text-green-600 font-medium",children:"Online Now"}):e.jsxs("span",{children:["Active ",de(r.updated_at)]})})]}),e.jsxs("div",{className:"flex gap-2",children:[l&&l.id!==r.id&&e.jsxs(h,{variant:_?"outline":"default",size:"sm",onClick:be,children:[e.jsx(ts,{className:"h-4 w-4 mr-1"}),_?"Following":"Follow"]}),e.jsx(h,{variant:"outline",size:"sm",onClick:M,children:"View Profile"})]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-center border-t pt-3",children:[e.jsxs("button",{onClick:Se,className:"flex flex-col items-center hover:scale-105 transition-transform",children:[e.jsx("span",{className:"font-bold text-lg",children:r.total_reviews||0}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Products"})]}),e.jsxs("button",{onClick:ye,className:"flex flex-col items-center hover:scale-105 transition-transform",children:[e.jsx("span",{className:"font-bold text-lg",children:r.followers_count}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Followers"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-bold text-lg",children:r.rating?.toFixed(1)||"5.0"})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Rating"})]})]})]})]})}),e.jsxs(j,{className:"p-4 bg-gradient-to-br from-indigo-50/30 to-white border-indigo-100/50 shadow-sm mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5 text-indigo-600"}),e.jsx("h4",{className:"font-bold text-indigo-900 font-urbanist",children:"Seller Trust Score"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-indigo-600 rounded-full text-white text-[10px] font-bold shadow-sm",children:[e.jsx(Le,{className:"h-3 w-3"}),"RELIABLE"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative h-16 w-16",children:[e.jsxs("svg",{className:"h-full w-full",viewBox:"0 0 36 36",children:[e.jsx("path",{className:"stroke-gray-100 fill-none",strokeWidth:"3",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),e.jsx("path",{className:"stroke-indigo-600 fill-none transition-all duration-1000 ease-out",strokeWidth:"3",strokeDasharray:`${z}, 100`,strokeLinecap:"round",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-lg text-indigo-900",children:[z,"%"]})]}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:"text-xs font-urbanist text-gray-700 leading-tight",children:"Identity verified seller with consistent high performance."}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-green-600 font-bold",children:[e.jsx(as,{className:"h-3 w-3"}),"ID Verified Seller"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"p-2.5 bg-white border border-indigo-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(Clock,{className:"h-3 w-3 text-indigo-500"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Response"})]}),e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"< 15 Mins"})]}),e.jsxs("div",{className:"p-2.5 bg-white border border-indigo-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(Y,{className:"h-3 w-3 text-indigo-500"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Status"})]}),e.jsx("span",{className:"text-xs font-bold text-gray-900",children:"Premium"})]})]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-12",children:[e.jsxs(Re,{value:ie,onValueChange:le,className:"w-full",children:[e.jsxs(Ue,{className:"grid w-full grid-cols-3",children:[e.jsx(D,{value:"description",children:"Description"}),e.jsx(D,{value:"specifications",children:"Specifications"}),e.jsxs(D,{value:"seller-reviews",children:["Reviews (",k.length,")"]})]}),e.jsx(P,{value:"description",className:"mt-6",children:e.jsx(j,{className:"p-6",children:e.jsx("p",{className:"whitespace-pre-line text-lg leading-relaxed",children:t.description})})}),e.jsx(P,{value:"specifications",className:"mt-6",children:e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Object.entries(t.properties||{}).map(([s,a])=>e.jsxs("div",{className:"flex justify-between border-b py-2",children:[e.jsx("span",{className:"font-medium text-muted-foreground capitalize",children:s}),e.jsx("span",{className:"font-semibold",children:a})]},s)),e.jsxs("div",{className:"flex justify-between border-b py-2",children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Category"}),e.jsx("span",{className:"font-semibold",children:t.category})]}),e.jsxs("div",{className:"flex justify-between border-b py-2",children:[e.jsx("span",{className:"font-medium text-muted-foreground",children:"Condition"}),e.jsx("span",{className:"font-semibold",children:t.condition})]})]})})}),e.jsx(P,{value:"seller-reviews",className:"mt-6",children:e.jsx("div",{className:"space-y-4",children:k.length>0?k.map(s=>e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs(I,{children:[e.jsx(E,{src:s.reviewer?.profile_image}),e.jsx(A,{children:s.reviewer?.full_name?.charAt(0)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-bold",children:s.reviewer?.full_name||"Anonymous"}),e.jsxs("div",{className:"flex",children:[e.jsx(T,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"})," ",s.rating]})]}),e.jsx("p",{children:s.comment})]})]})},s.id)):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No reviews yet"})})})]}),F.length>0&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Similar Products"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:F.map(s=>e.jsx(W,{to:`/product/${s.id}`,className:"group",children:e.jsxs(j,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"aspect-square relative",children:e.jsx("img",{src:s.images?.[0],alt:s.name,className:"object-cover w-full h-full group-hover:scale-105 transition-transform duration-300"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold truncate",children:s.name}),e.jsxs("p",{className:"text-green-600 font-bold mt-1",children:["KES ",s.price.toLocaleString()]})]})]})},s.id))})]})]})]}),e.jsx(V,{open:ne,onOpenChange:N,children:e.jsxs(G,{children:[e.jsx(J,{children:e.jsx(X,{children:"Share this product"})}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 py-4",children:[e.jsxs("button",{onClick:()=>b("whatsapp"),className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center",children:e.jsx(Q,{className:"text-white"})}),e.jsx("span",{className:"text-xs",children:"WhatsApp"})]}),e.jsxs("button",{onClick:()=>b("facebook"),className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(He,{className:"text-white"})}),e.jsx("span",{className:"text-xs",children:"Facebook"})]}),e.jsxs("button",{onClick:()=>b("twitter"),className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 bg-black rounded-full flex items-center justify-center",children:e.jsx(Oe,{className:"text-white"})}),e.jsx("span",{className:"text-xs",children:"Twitter"})]}),e.jsxs("button",{onClick:()=>b("copy"),className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(rs,{})}),e.jsx("span",{className:"text-xs",children:"Copy"})]})]})]})}),e.jsx(V,{open:oe,onOpenChange:U,children:e.jsxs(G,{className:"sm:max-w-md",children:[e.jsx(J,{children:e.jsx(X,{className:"text-center",children:"Contact Seller"})}),e.jsxs("div",{className:"flex flex-col items-center gap-6 py-4",children:[e.jsxs(I,{className:"w-20 h-20",children:[e.jsx(E,{src:r?.profile_image}),e.jsx(A,{children:r?.full_name?.charAt(0)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-bold text-xl",children:r?.full_name||"Seller"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r?.location})]}),e.jsxs("div",{className:"w-full space-y-3",children:[e.jsx(h,{asChild:!0,className:"w-full bg-[#25D366] hover:bg-[#128C7E]",children:e.jsxs("a",{href:`https://wa.me/${r?.whatsapp||r?.phone}`,target:"_blank",rel:"noreferrer",children:[e.jsx(Q,{className:"mr-2"})," WhatsApp"]})}),e.jsx(h,{asChild:!0,className:"w-full",variant:"outline",children:e.jsxs("a",{href:`tel:${r?.phone}`,children:[e.jsx(K,{className:"mr-2"})," Call Now"]})}),e.jsx(h,{asChild:!0,className:"w-full",variant:"ghost",children:e.jsxs("a",{href:`sms:${r?.phone}`,children:[e.jsx(ze,{className:"mr-2"})," SMS"]})})]})]})]})})]})}export{Ss as default};
