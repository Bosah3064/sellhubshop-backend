import{r as x,j as e,S as b,B as o,al as j,aB as N,P as w,a6 as v,f as y}from"./index-DIxCcwTo.js";import{D as C,a as S,d as k,c as D}from"./dialog-YYEI7PMn.js";import{A as $,a as A,b as E}from"./avatar-C_jNKov4.js";import{E as M}from"./eye-DkAcDlvf.js";import{C as R}from"./copy-YHHq3K_B.js";import{M as z}from"./message-circle-C61Fvmn6.js";function L({open:r,onOpenChange:m,sellerProfile:s,product:l}){const[n,i]=x.useState(!1);if(x.useEffect(()=>{r||i(!1)},[r,s]),!s)return null;const h=t=>t.length<8?t:`${t.slice(0,6)} **** ${t.slice(-3)}`,c=()=>{i(!0)},d=s.full_name||s.username||"Seller",a=s.phone||"N/A",g=s.whatsapp||s.phone,p=l?.name||"Product",u=l?.price?.toLocaleString()||"0",f=l?.currency||"KES";return e.jsx(C,{open:r,onOpenChange:m,children:e.jsxs(S,{className:"sm:max-w-md rounded-xl",children:[e.jsx(k,{children:e.jsx(D,{className:"text-center text-xl font-bold",children:"Contact Seller"})}),e.jsxs("div",{className:"flex flex-col items-center justify-center pt-2 pb-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs($,{className:"w-20 h-20 border-4 border-green-50 mb-3",children:[e.jsx(A,{src:s.profile_image}),e.jsx(E,{className:"text-2xl bg-green-100 text-green-700",children:d.charAt(0).toUpperCase()})]}),e.jsx("h3",{className:"font-bold text-xl text-gray-900",children:d}),s.rating!==void 0&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(b,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium text-sm",children:s.rating.toFixed(1)}),e.jsxs("span",{className:"text-gray-400 text-sm",children:["(",s.total_reviews||0," reviews)"]})]})]}),e.jsxs("div",{className:"w-full bg-gray-50 rounded-xl p-4 flex items-center justify-between border border-gray-100 relative overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col z-10",children:[e.jsx("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Phone Number"}),e.jsx("span",{className:"text-xl font-mono font-bold text-gray-800 mt-0.5",children:n?a:h(a)})]}),e.jsx("div",{className:"flex items-center gap-2 z-10",children:n?e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>{navigator.clipboard.writeText(a),j.success("Number copied to clipboard")},className:"hover:bg-white hover:text-green-600 transition-colors",children:e.jsx(R,{className:"w-4 h-4"})}):e.jsxs(o,{size:"sm",variant:"ghost",onClick:c,className:"text-green-600 hover:text-green-700 hover:bg-green-50 gap-1.5",children:[e.jsx(M,{className:"w-4 h-4"}),"Show"]})})]}),n?e.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full animate-in fade-in slide-in-from-bottom-2 duration-300",children:[e.jsxs("a",{href:`tel:${a}`,className:"flex items-center justify-center gap-2 bg-white border border-gray-200 hover:border-green-600 hover:text-green-600 text-gray-700 font-semibold py-3 px-4 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsx(w,{className:"w-5 h-5"}),"Call Now"]}),e.jsxs("a",{href:`sms:${a}`,className:"flex items-center justify-center gap-2 bg-white border border-gray-200 hover:border-blue-500 hover:text-blue-500 text-gray-700 font-semibold py-3 px-4 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsx(v,{className:"w-5 h-5"}),"Send SMS"]}),e.jsxs("a",{href:`https://wa.me/${g}?text=Hi! I'm interested in your product: ${p} - ${f} ${u}`,target:"_blank",rel:"noreferrer",className:"col-span-2 flex items-center justify-center gap-2 bg-[#25D366] hover:bg-[#128C7E] text-white font-bold py-3.5 px-4 rounded-xl transition-all duration-200 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:[e.jsx(z,{className:"w-5 h-5"}),"Chat on WhatsApp"]})]}):e.jsxs("div",{className:"w-full",children:[e.jsxs(o,{className:"w-full py-6 text-lg font-semibold bg-green-600 hover:bg-green-700 text-white shadow-md transition-all gap-2",onClick:c,children:[e.jsx(N,{className:"w-5 h-5"}),"Reveal Contact Details"]}),e.jsx("p",{className:"text-xs text-center text-gray-400 mt-3",children:"Click to reveal phone number and contact options"})]}),e.jsxs("div",{className:"flex items-start gap-3 bg-blue-50/50 p-3 rounded-lg text-xs text-blue-700 w-full",children:[e.jsx(y,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Safety Tip:"})," For your protection, try to keep transactions within SellHub. Meet in public places for local pickups."]})]})]})]})})}export{L as C};
